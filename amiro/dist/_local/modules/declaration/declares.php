<?php
/**
 * Modules declaration file.
 *
 * This is autogenerated file. The changes are undesirable and dangerous.
 *
 * @copyright Amiro.CMS. All rights reserved.
 * @category  AMI
 * @package   Module
 * @version   $Id: declares.php 63582 2013-11-27 09:58:40Z Leontiev Anton $
 */

/**
 * @var AMI_ModDeclarator
 */
$oDeclarator;

if(!$oDeclarator->isRegistered('members')){
    $oDeclarator->startConfig('services', 2000);
    $oDeclarator->register('ami_users', 'users', 'members', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr('members', 'core_v5', TRUE);
    $oDeclarator->register('ami_fake', 'users', 'members_popup', 'members', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr('members_popup', 'marker', 'popup');
}

// [sys_groups] {
if(!$oDeclarator->isRegistered('sys_groups')){
    $oDeclarator->startConfig('services', 2300);
    $oDeclarator->register('ami_access_rights', 'groups', 'sys_groups', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr('sys_groups', 'core_v5', TRUE);
    $oDeclarator->register('ami_users', 'access_rights', 'sys_users', 'sys_groups', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::HAS_UNCANONICAL_TABLE_NAME | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr('sys_users', 'db_table', 'cms_members');
    $oDeclarator->register('ami_access_rights', 'users_popup', 'sys_users_popup', 'sys_groups', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::HAS_UNCANONICAL_TABLE_NAME | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr('sys_users_popup', 'db_table', 'cms_members');
    $oDeclarator->register('ami_access_rights', 'groups_popup', 'sys_groups_popup', 'sys_groups', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->register('ami_access_rights', 'modules_popup', 'sys_modules_popup', 'sys_groups', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->register('ami_access_rights', 'departments', 'sys_departments', 'sys_groups', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
}
// } [sys_groups]
// [articles] {
$oDeclarator->startConfig('modules', 3000);
$oDeclarator->register('ami_multifeeds5', 'articles', 'articles', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT);
$oDeclarator->setAttr('articles', 'core_v5', TRUE);
$oDeclarator->setAttr('articles', 'id_pkg', 'amiro.articles5');
$oDeclarator->setAttr('articles', 'id_install', 0);
$oDeclarator->register('ami_multifeeds5', 'articles', 'articles_cat', 'articles', AMI_ModDeclarator::INTERFACE_ADMIN);
$oDeclarator->setAttr('articles_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('articles_cat', 'marker', 'cat');
// } [articles]
// [stickers] {
$oDeclarator->startConfig('pmanager', 500);
$oDeclarator->register('ami_multifeeds5', 'stickers', 'stickers', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('stickers', 'core_v5', TRUE);
$oDeclarator->register('ami_multifeeds5', 'stickers', 'stickers_cat', 'stickers', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('stickers_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('stickers_cat', 'marker', 'cat');
// } [stickers]
// [faq] {
$oDeclarator->startConfig('modules', 11000);
$oDeclarator->register('ami_multifeeds5', 'faq', 'faq', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('faq', 'core_v5', TRUE);
$oDeclarator->register('ami_multifeeds5', 'faq', 'faq_cat', 'faq', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('faq_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('faq_cat', 'marker', 'cat');
// } [faq]
// [files] {
$oDeclarator->startConfig('modules', 4000);
$oDeclarator->register('ami_files', 'files', 'files', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::HAS_ASSOC_MODELS | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('files', 'assoc_db_tables', array('cms_ftypes'));
$oDeclarator->setAttr('files', 'core_v5', TRUE);
$oDeclarator->register('ami_files', 'files', 'files_cat', 'files', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('files_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('files_cat', 'marker', 'cat');
$oDeclarator->register('ami_data_exchange', 'files', 'files_import', 'files', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('files_import', 'core_v5', TRUE);
$oDeclarator->setAttr('files_import', 'marker', 'data_exchange');
$dataSource = AMI_Registry::get('AMI/HyperConfig/DataSource/ami_files/files', FALSE);
if($dataSource){
    $oDeclarator->setAttr('files', 'data_source', $dataSource);
    $oDeclarator->setAttr('files_cat', 'data_source', $dataSource . '_cat');
    $oDeclarator->setAttr('files_import', 'data_source', $dataSource);
}
// } [files]
// [guestbook] {
$oDeclarator->startConfig('modules', 14000);
$oDeclarator->register('ami_discussion', 'guestbook', 'guestbook', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('guestbook', 'core_v5', TRUE);
// } [guestbook]
// [discussion] {
$oDeclarator->startConfig('modules', 15000);
$oDeclarator->register('ami_discussion', 'discussion', 'discussion', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('discussion', 'core_v5', TRUE);
// } [discussion]
// [forum] {
$oDeclarator->startConfig('modules', 16000);
$oDeclarator->register('ami_forum', 'forum', 'forum', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('forum', 'core_v5', TRUE);
$oDeclarator->register('ami_forum', 'forum', 'forum_cat', 'forum', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('forum_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('forum_cat', 'marker', 'cat');
$oDeclarator->register('ami_data_exchange', 'forum', 'forum_data_exchange', 'forum', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('forum_data_exchange', 'core_v5', TRUE);
$oDeclarator->setAttr('forum_data_exchange', 'marker', 'data_exchange');
$oDeclarator->setAttr('forum_data_exchange', 'data_source', 'forum');
// } [forum]
// [relations] {
$oDeclarator->startConfig('modules', 3000);
$oDeclarator->register('ami_relations', 'relations', 'relations', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('relations', 'core_v5', TRUE);
// } [relations]
// [srv_twist_prevention] {
$oDeclarator->startConfig('services', 2400);
$oDeclarator->register('ami_antispam', 'antispam', 'srv_twist_prevention', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('srv_twist_prevention', 'core_v5', TRUE);
$oDeclarator->register('ami_ext', 'antispam', 'ext_twist_prevention', 'srv_twist_prevention', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
// } [srv_twist_prevention]
// [tags] {
$oDeclarator->startConfig('services', 2500);
$oDeclarator->register('ami_tags', 'tags', 'srv_tags', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::HAS_UNCANONICAL_TABLE_NAME | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('srv_tags', 'db_table', 'cms_tags');
$oDeclarator->setAttr('srv_tags', 'core_v5', TRUE);
$oDeclarator->register('ami_tags', 'tags', 'srv_tags_reindex', 'srv_tags', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('srv_tags_reindex', 'marker', 'reindex');
// } [tags]
// [ext_adv] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'adv', 'ext_adv', 'adv_places', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_adv', 'core_v5', TRUE);
// } [ext_adv]
// [ext_category] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'category', 'ext_category', '', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_category', 'core_v5', TRUE);
// } [ext_category]
// [ext_discussion] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'discussion', 'ext_discussion', 'discussion', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_discussion', 'core_v5', TRUE);
// } [ext_discussion]
// [ext_rating] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'rating', 'ext_rating', 'rating', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_rating', 'core_v5', TRUE);
// } [ext_rating]
// [ext_image] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'image', 'ext_image', '', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_image', 'core_v5', TRUE);
// } [ext_image]
// [ext_tags] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'tags', 'ext_tags', 'srv_tags', AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_tags', 'core_v5', TRUE);
// } [ext_tags]
// [ext_rss] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'rss', 'ext_rss', '', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_rss', 'core_v5', TRUE);
$oDeclarator->register('ami_fake', 'rss', 'ext_rss_rules', 'ext_rss', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_rss_rules', 'core_v5', TRUE);
// } [ext_rss]
// [ext_relations] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'relations', 'ext_relations', 'relations', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('ext_relations', 'core_v5', TRUE);
// } [ext_relations]
// [jobs] {
$oDeclarator->startConfig('modules', 6000);
$oDeclarator->register('ami_multifeeds5', 'jobs', 'jobs', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('jobs', 'core_v5', TRUE);
$oDeclarator->register('ami_jobs', 'resume', 'jobs_resume', 'jobs', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('jobs_resume', 'core_v5', TRUE);
$oDeclarator->setAttr('jobs_resume', 'marker', 'resume');
$oDeclarator->register('ami_multifeeds5', 'jobs', 'jobs_cat', 'jobs', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('jobs_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('jobs_cat', 'marker', 'cat');
$oDeclarator->register('ami_jobs', 'history', 'jobs_history', 'jobs', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('jobs_history', 'core_v5', TRUE);
$oDeclarator->setAttr('jobs_history', 'marker', 'history');
$oDeclarator->register('ami_jobs', 'employer', 'jobs_employer', 'jobs', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('jobs_employer', 'core_v5', TRUE);
$oDeclarator->setAttr('jobs_employer', 'marker', 'employer');
// } [jobs]
// [votes] {
$oDeclarator->startConfig('modules', 8000);
$oDeclarator->register('ami_votes', 'votes', 'votes', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::HAS_ASSOC_MODELS | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('votes', 'assoc_db_tables', array('cms_votevals'));
$oDeclarator->setAttr('votes', 'core_v5', TRUE);
// } [votes]
// [ext_ce_page_break] {
$oDeclarator->startConfig('modules');
$oDeclarator->register('ami_ext', 'ce_page_break', 'ce_page_break', 'ce', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
// } [ext_ce_page_break]
// [subscribe] {
$oDeclarator->startConfig('modules', 7000);
$oDeclarator->register('ami_subscribe', 'subscribe', 'subscribe', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('subscribe', 'core_v5', TRUE);
$oDeclarator->setAttr('subscribe', 'admin_link', 'subs_list.php');
$oDeclarator->register('ami_subscribe', 'topic', 'subs_topic', 'subscribe', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('subs_topic', 'core_v5', TRUE);
$oDeclarator->setAttr('subs_topic', 'marker', 'topic');
$oDeclarator->register('ami_subscribe', 'send', 'subs_send', 'subscribe', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('subs_send', 'core_v5', TRUE);
$oDeclarator->setAttr('subs_send', 'marker', 'send');
$oDeclarator->register('ami_subscribe', 'export', 'subs_export', 'subscribe', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('subs_export', 'core_v5', TRUE);
$oDeclarator->setAttr('subs_export', 'marker', 'export');
// } [subscribe]
// [search] {
$oDeclarator->startConfig('modules', 9000);
$oDeclarator->register('ami_search', 'search', 'search', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::HAS_ASSOC_MODELS | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('search', 'assoc_db_tables', array('cms_site_search_index'));
$oDeclarator->setAttr('search', 'core_v5', TRUE);
$oDeclarator->setAttr('search', 'admin_link', 'search_history.php');
$oDeclarator->register('ami_search', 'search', 'reindex', 'search', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('reindex', 'core_v5', TRUE);
$oDeclarator->setAttr('reindex', 'marker', 'reindex');
$oDeclarator->register('ami_ext', 'reindex', 'ext_reindex', 'search', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
// } [search]
// [feedback] {
$oDeclarator->startConfig('modules', 13000);
$oDeclarator->register('ami_feedback', 'feedback', 'feedback', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('feedback', 'core_v5', TRUE);
// } [feedback]
// [modules_datasets] {
$oDeclarator->startConfig('modules', 18000);
$oDeclarator->register('ami_datasets', 'datasets', 'modules_datasets', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('modules_datasets', 'core_v5', TRUE);
$oDeclarator->register('ami_fake', 'datasets', 'modules_datasets_popup', 'modules_datasets', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
$oDeclarator->register('ami_datasets', 'custom_fields', 'modules_custom_fields', 'modules_datasets', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('modules_custom_fields', 'core_v5', TRUE);
$oDeclarator->register('ami_ext', 'custom_fields', 'ext_modules_custom_fields', 'modules_datasets', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
// } [modules_datasets]
// [classifieds] {
$oDeclarator->startConfig('modules', 12000);
$oDeclarator->register('ami_multifeeds5', 'classifieds', 'classifieds', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('classifieds', 'core_v5', TRUE);
$oDeclarator->register('ami_multifeeds5', 'classifieds', 'classifieds_cat', 'classifieds', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('classifieds_cat', 'core_v5', TRUE);
$oDeclarator->setAttr('classifieds_cat', 'marker', 'cat');
// } [classifieds]
// [srv_login_history] {
$oDeclarator->startConfig('services', 800);
$oDeclarator->register('ami_login_history', 'login_history', 'srv_login_history', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('srv_login_history', 'core_v5', TRUE);
// } [srv_login_history]
// [layouts] {
$oDeclarator->startConfig('pmanager', 300);
$oDeclarator->register('ami_page_manager', 'layouts', 'layouts', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('layouts', 'core_v5', TRUE);
// } [layouts]
// [templates] {
$oDeclarator->startConfig('pmanager', 600);
$oDeclarator->register('ami_clean', 'templates', 'templates', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('templates', 'core_v5', TRUE);
// } [templates]
// [modules_templates] {
$oDeclarator->startConfig('pmanager', 400);
$oDeclarator->register('ami_modules_templates', 'templates', 'modules_templates', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('modules_templates', 'core_v5', TRUE);
$oDeclarator->setAttr('modules_templates', 'marker', 'templates');
$oDeclarator->register('ami_modules_templates', 'langs', 'modules_templates_langs', 'modules_templates', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('modules_templates_langs', 'core_v5', TRUE);
$oDeclarator->setAttr('modules_templates_langs', 'marker', 'langs');
// } [modules_templates]
// [sitemap] {
$oDeclarator->startConfig('services', 3000);
$oDeclarator->register('ami_fake', 'google_sitemap', 'google_sitemap', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('google_sitemap', 'core_v5', TRUE);
$oDeclarator->register('ami_sitemap_history', 'sitemap_history', 'sitemap_history', 'google_sitemap', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('sitemap_history', 'core_v5', TRUE);
// } [sitemap]
// [eshop_item] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_item';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 100);
    $oDeclarator->register('ami_catalog', 'items', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', FALSE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'items');
    $modId = 'ext_' . $section . '_category';
    $oDeclarator->register('ami_ext', 'eshop_category', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
    $modId = $section . '_cat';
    $oDeclarator->register('ami_catalog', 'items', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'cat');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'cats');
    $modId = $section . '_view';
    $oDeclarator->register('ami_catalog', 'view', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'view');
    $oDeclarator->setAttr($modId, 'db_table', 'cms_view');
    $modId = $section . '_goods';
    $oDeclarator->register('ami_catalog', 'goods', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'goods');
    $modId = $section . '_account';
    $oDeclarator->register('ami_catalog', 'account', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'goods');
    $modId = 'ext_' . $section . '_custom_fields';
    $oDeclarator->register('ami_ext', $section . '_custom_fields', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'marker', $section . '_custom_fields');
/*
    $rootModId = $section . '_order';
    $oDeclarator->register('ami_clean', 'eshop_order', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', false);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'orders');
    $modId = $section . '_order_history';
    $oDeclarator->register('ami_fake', 'eshop_order_history', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'order_history');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'order_history');
*/
}
// } [eshop_item]
// [eshop_order] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_order';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 3000);
    $oDeclarator->register('ami_clean', 'eshop_order', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', false);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'orders');
    $modId = $section . '_order_history';
    $oDeclarator->register('ami_fake', 'eshop_order_history', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'order_history');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'order_history');
}
// } [eshop_order]
// [eshop_digitals] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_digitals';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 9000);
    $oDeclarator->register('ami_catalog', 'digitals', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', TRUE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'files');
    $modId = $section . '_files';
    $oDeclarator->register('ami_data_exchange', 'catalog', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'files');
}
// } [eshop_digitals]
// [eshop_discounts] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_discounts';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 3600);
    $oDeclarator->register('ami_eshop_discounts', 'discounts', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', TRUE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'discounts');
}
// } [eshop_discounts]
// [eshop_coupons] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_coupons';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 3610);
    $oDeclarator->register('ami_eshop_coupons', 'coupons', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', TRUE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'coupons');
    $modId = $section . '_coupons_cat';
    $oDeclarator->register('ami_eshop_coupons', 'coupons', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'cat');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'coupons_cats');
}
// } [eshop_coupons]
// [eshop_shipping_methods] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_shipping_methods';
if(!$oDeclarator->isRegistered($rootModId)){
    $oDeclarator->startConfig($section, 3700);
    $oDeclarator->register('ami_eshop_shipping', 'methods', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', TRUE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'shipping_methods');
    $modId = $section . '_shipping_types';
    $oDeclarator->register('ami_eshop_shipping', 'types', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'types');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'shipping_types');
    $modId = $section . '_shipping_fields';
    $oDeclarator->register('ami_eshop_shipping', 'fields', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'fields');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'shipping_fields');
}
// } [eshop_shipping_methods]
// [eshop_tax_classes] {
$section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
$tablePrefix = 'cms_' . AMI_Registry::get('AMI/HyperConfig/ami_catalog/db_pfx', 'es') . '_';
$rootModId = $section . '_tax_classes';
if(!$oDeclarator->isRegistered($rootModId)){
    $section = AMI_Registry::get('AMI/HyperConfig/ami_catalog/declares/section', 'eshop');
    $oDeclarator->startConfig($section, 3800);
    $oDeclarator->register('ami_eshop_tax', 'classes', $rootModId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($rootModId, 'core_v5', TRUE);
    $oDeclarator->setAttr($rootModId, 'db_table', $tablePrefix . 'tax_classes');
    $modId = $section . '_tax_zones';
    $oDeclarator->register('ami_eshop_tax', 'zones', $modId, $rootModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'marker', 'zones');
    $oDeclarator->setAttr($modId, 'db_table', $tablePrefix . 'tax_zones');
}
// } [eshop_tax_classes]
// [eshop_user] {
$modId = 'eshop_user';
if(!$oDeclarator->isRegistered($modId)){
    $oDeclarator->startConfig('eshop', 3900);
    $oDeclarator->register('ami_users', 'eshop_users', $modId, '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
    $oDeclarator->setAttr($modId, 'core_v5', TRUE);
    $oDeclarator->setAttr($modId, 'db_table', 'cms_es_users');
}
// } [eshop_user]
// [kb_item] {
if(!$oDeclarator->isRegistered('kb_item')){
    AMI_Registry::set('AMI/HyperConfig/ami_catalog/declares/section', 'kb');
    AMI_Registry::set('AMI/HyperConfig/ami_catalog/db_pfx', 'kb');
    $oDeclarator->execSection('eshop');
}
// } [kb_item]
// [portfolio_item] {
if(!$oDeclarator->isRegistered('portfolio_item')){
    AMI_Registry::set('AMI/HyperConfig/ami_catalog/declares/section', 'portfolio');
    AMI_Registry::set('AMI/HyperConfig/ami_catalog/db_pfx', 'po');
    $oDeclarator->execSection('eshop');
}
// } [portfolio_item]
// [private_messages] {
$oDeclarator->startConfig('services', 2050);
$oDeclarator->register('ami_async', 'private_messages', 'private_messages', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('private_messages', 'core_v5', TRUE);
// } [private_messages]
// [ami_seopult] {
$oDeclarator->startConfig('plugins', 3000);
$oDeclarator->register('ami_clean', 'ami_seopult', 'ami_seopult', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [ami_seopult]
// [ami_market] {
$oDeclarator->startConfig('plugins', 1000);
$oDeclarator->register('ami_clean', 'ami_market', 'ami_market', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [ami_market]
// } [mod_manager]
$oDeclarator->startConfig('plugins', 2000);
$oDeclarator->register('ami_fake', 'mod_manager', 'mod_manager', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [mod_manager]
// [data_import] {
$oDeclarator->startConfig('services', 4000);
$oDeclarator->register('ami_clean', 'data_import', 'data_import', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [data_import]
// [ami_webservice] {
$oDeclarator->startConfig('services', 6000);
$parentModId =
    AMI::isModInstalled('srv_options')
        ? 'srv_options'
        : '';
$oDeclarator->register('ami_clean', 'webservice', 'ami_webservice', $parentModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [ami_webservice]
// [inst_partnernews] {
$oDeclarator->startConfig('plugins', 2400);
$oDeclarator->register('ami_multifeeds', 'articles', 'inst_partnernews', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->register('ami_multifeeds', 'articles', 'inst_partnernews_cat', 'inst_partnernews', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('inst_partnernews_cat', 'marker', 'cat');
$oDeclarator->setAttr('inst_partnernews', 'id_pkg', 'amiro.articles');
$oDeclarator->setAttr('inst_partnernews', 'id_install', '15');
// } [inst_partnernews]
// [inst_basepress] {
$oDeclarator->startConfig('modules', 1200);
$oDeclarator->register('ami_multifeeds', 'news', 'inst_basepress', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->register('ami_multifeeds', 'news', 'inst_basepress_cat', 'inst_basepress', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('inst_basepress_cat', 'marker', 'cat');
$oDeclarator->setAttr('inst_basepress', 'id_pkg', 'amiro.news');
$oDeclarator->setAttr('inst_basepress', 'id_install', '4');
// } [inst_basepress]
// [inst_baseblog] {
$oDeclarator->startConfig('modules', 2100);
$oDeclarator->register('ami_multifeeds', 'blog', 'inst_baseblog', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->register('ami_multifeeds', 'blog', 'inst_baseblog_cat', 'inst_baseblog', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('inst_baseblog_cat', 'marker', 'cat');
$oDeclarator->setAttr('inst_baseblog', 'id_pkg', 'amiro.blog');
$oDeclarator->setAttr('inst_baseblog', 'id_install', '5');
// } [inst_baseblog]
// [inst_basegallery] {
$oDeclarator->startConfig('modules', 5100);
$oDeclarator->register('ami_multifeeds', 'photoalbum', 'inst_basegallery', '', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::INTERFACE_FRONT | AMI_ModDeclarator::IS_SYS);
$oDeclarator->register('ami_multifeeds', 'photoalbum', 'inst_basegallery_cat', 'inst_basegallery', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('inst_basegallery_cat', 'marker', 'cat');
$oDeclarator->register('ami_data_exchange', 'photoalbum', 'inst_basegallery_data_exchange', 'inst_basegallery', AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
$oDeclarator->setAttr('inst_basegallery_data_exchange', 'marker', 'data_exchange');
$oDeclarator->setAttr('inst_basegallery_data_exchange', 'data_source', 'inst_basegallery');
$oDeclarator->setAttr('inst_basegallery', 'id_pkg', 'amiro.gallery');
$oDeclarator->setAttr('inst_basegallery', 'id_install', '6');
// } [inst_basegallery]
// [ami_service] {
$oDeclarator->startConfig('services', 6100);
$parentModId = AMI::isModInstalled('srv_options') ? 'srv_options' : '';
$oDeclarator->register('ami_clean', 'ami_service', 'ami_service', $parentModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [ami_service]
// [options_data] {
$oDeclarator->startConfig('services', 6200);
$parentModId = AMI::isModInstalled('srv_options') ? 'srv_options' : '';
$oDeclarator->register('ami_fake', 'options_data', 'options_data', $parentModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [options_data]
// [ami_skin_tools] {
$oDeclarator->startConfig('services', 6300);
$oDeclarator->register('ami_clean', 'ami_skin_tools', 'ami_skin_tools', '', AMI_ModDeclarator::INTERFACE_NONE | AMI_ModDeclarator::IS_SYS);
// } [ami_skin_tools]
// [active_sessions] {
$oDeclarator->startConfig('services', 6400);
$parentModId = AMI::isModInstalled('srv_options') ? 'srv_options' : '';
$oDeclarator->register('ami_clean', 'active_sessions', 'active_sessions', $parentModId, AMI_ModDeclarator::INTERFACE_ADMIN | AMI_ModDeclarator::IS_SYS);
// } [active_sessions]
