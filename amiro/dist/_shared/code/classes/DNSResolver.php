<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       1844 xkqwwuziixtsliqunkxpuuxzkxykluinnnlqtmzizqtqkzxmqmglsksiksqrgywmzyxgpnir
 */ ?><?php foreach(array(4047=>'%',4048=>'~;\S-}\`\S-{)3($~') as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} ini_set('include_path',ini_get('include_path').I4047.$GLOBALS['FUNC_INCLUDES_PATH']); require_once 'Net/DNS.php'; class DNSResolver {public $res; public $cache; function DNSResolver($ILlll1l) {$this->res =new Net_DNS_Resolver($ILlll1l); if(isset($ILlll1l['nameservers'])) $this->res->nameservers($ILlll1l['nameservers']); $this->cache =array(); }function TT1lII1($host,$ILlll1L=false,$type=false) {if($type===false) {if(preg_match(I4048,$host)) $type ='PTR'; else $type ='A'; }if(!isset($this->cache[$host][$type]) || $ILlll1L) {$resp =$this->res->query($host,$type); if ($resp) {$ILlll11 =array_shift($resp->answer); switch($type) {case 'A': $this->cache[$host][$type] =$ILlll11->address; break; case 'PTR': $this->cache[$host][$type] =$ILlll11->ptrdname; break; default: $this->cache[$host][$type] =false; }}else $this->cache[$host][$type] =false; }return $this->cache[$host][$type]; }}?>