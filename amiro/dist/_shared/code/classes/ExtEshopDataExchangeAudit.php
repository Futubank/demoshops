<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @package    core 
 * @version    $Id$ 
 * @size       4193 xkqwxwtyygpkgnmtyxqyxxsyrkgnisiwtizyqwtrwltklymqptzptslgwgntkpywnwsqpnir
 */ ?><?php foreach(array(4894=>"|MtQI",4895=>"|MtQI|ZuSMt",4896=>"tGJ|JMDt|GHDtfMx",4897=>"JMDt|SZtZ",4898=>"coqRq?1",4899=>"ZuSMt|HCnQr",4900=>"MIGHrt|IHSuJQ|fHrI|QxtQnDMHn") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} class ExtEshopDataExchangeAudit extends CMS_ExtModule {public $ILLL1II; function ExtEshopDataExchangeAudit() {$this->ILLL1II =0; parent::CMS_ExtModule(); }function Init(&$cms, &$IlIlIl1, &$IlIlILI) {parent::Init($cms, $IlIlIl1, $IlIlILI); }function GetModuleName() {return "ext_eshop_data_exchange_audit"; }function ProcessAction(&$IIIL11l, $cId, &$vItemData, &$vData, &$IILIILl) {switch($IIIL11l) {case "process_items": $this->TITIITl($cId, $vItemData, $vData, $IILIILl); break; default: parent::ProcessAction($IIIL11l, $cId, $vItemData, $vData, $IILIILl); break; }}function TTIllTT($cId, &$vItemData, &$vData, &$IILIILl) {$aExts =$this->cms->Core->TTlI1TI($this->mod->oEshop->ownerName.I4894, "extensions"); $this->ILLL1II =empty($this->cms->Vars["audit_new_owner"]) ?0 :$this->cms->Vars["audit_new_owner"]; if(!in_array("ext_".$this->mod->oEshop->ownerName.I4895, $aExts)) {$this->installed =false; }parent::TTIllTI($cId, $vItemData, $vData, $IILIILl); }function TTIllIl($cId, &$vItemData, &$vData, &$IILIILl) {if($this->installed) {$aListData =Array(); $aCustom =Array( "tpl_hidden_field_postfix" => ":audit_owner_hidden", "tpl_row_postfix" => ":audit_owner_row", I4896 => ":audit_owner_list", "tpl_single_item_postfix" => ":audit_owner_single", "last_edited_id" => 0, I4897 => $aListData, );$this->activeModule->PushPager($this->mod->browser); $this->mod->browser->InitSQL("id, username, firstname, lastname", Array('tables'=>Array('m'=>'cms_members')), I4898); $this->mod->browser->SetForceRules("order by username asc"); $IL1l11l =$this->cms->Core->IsInstalled('srv_audit') ?$this->cms->Core->GetModOption('srv_audit', 'owners_list_size') :50; $vData[I4899] =$this->mod->TTT1lII($this->mod->db, $IL1l11l, $aCustom); $this->activeModule->PopPager($this->mod->browser); $vData[I4900] .= $this->cms->Gui->get($this->mod->moduleName."_subform:audit_owner", $vData); }}function TITIITl($cId, &$vItemData, &$vData, &$IILIILl) {$vData["audit_new_owner"] =$this->ILLL1II; $vData["audit_notification"] ="dont"; }}?>