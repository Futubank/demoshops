<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @package    core 
 * @version    $Id$ 
 * @size       4790 xkqwnppqszzkwwsttkylxwgksgmlzngyrtyyymxizmrurkyignrrqtptxlupuigxpkzwpnir
 */ ?><?php foreach(array(6188=>"ZJJHCQS|ZWtMHnD",6189=>"SQJ",6190=>"",6191=>"P`nZIQ",6192=>"SZtQtH",6193=>"P`MS",6194=>'DMAQ',6195=>"MS",6196=>'ZWtMHn|SQJ',6197=>"Hn",6198=>'JQPQnS',6199=>'JQP|SQJ',6200=>"WZnWQJ",6201=>"'",6202=>"nZIQ") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} class ModuleAdvCampaignTypesGroups extends CMS_ActModule {function ModuleAdvCampaignTypesGroups(&$cms, &$db, &$cModule) {parent::CMS_ActModule($cms, $db, $cModule); }function _Init($IIll1l1 =Array(), $IIll1LI ='', $IIll1Ll ='', $aOptions =Array()) {$IIIIL11[I6188] =Array("add", "edit", "apply", "save", I6189); $IIIIL11["group_operations"] =Array(I6189, "copy"); $IIIIL11['default_prefix'] ='g'; $aOptions += $IIIIL11; parent::_Init($IIll1l1, $IIll1LI, $IIll1Ll, $aOptions); }function _InitAdmin() {parent::_InitAdmin(); }function ProcessAction($IIIL11l, $cId, $cModule =I6190) {parent::ProcessAction($IIIL11l, $cId, $cModule); }function TTTlIII() {parent::TTTlIII(); $this->filter->AddField("flt_name", "text", stripslashes(unhtmlentities($this->cms->Vars["flt_name"])), I6190, " like ", I6191); $this->filter->MoveField("flt_name",_MOVE_START); if(empty($this->cms->Vars["flt_name"])) $this->filter->DisableFieldSQL("flt_name"); $this->filter->TITI1l1("datefrom"); $this->filter->TITI1l1(I6192); }function TTTlI1I(&$vData) {parent::TTTlI1I($vData); }function TTTlI11(&$vData, &$aCustom) {$this->browser->InitSQL("g.id, g.name", "FROM cms_adv_campaign_types_groups g", "WHERE 1 ".$this->_ApplyFilters().$this->TTTlIl1(), "g.id", I6193 );$aCustom['fields'] =Array( 'name'=>Array('action'=>'stripline', I6194=>100), "action_edit"=>Array("action"=>"flagicon", "value"=>I6190, I6195=>"edit_id", "on"=>$this->moduleName."_list:edit","off"=>I6190), I6196=>Array("action"=>"flagicon", "value"=>I6190, I6195=>"del_id", I6197=>$this->moduleName."_list:del","off"=>I6190), );$aCustom['applied_id'] ='d.id'; $aCustom[I6198] =Array('leg_red', 'leg_yellow', 'leg_blue', 'leg_edit', I6199); $aCustom["form_data"]["buttons"] =Array("add", "apply", I6200, "save"); parent::TTTlI11($vData, $aCustom); }function TTTl1Tl($cId, $cModule) {parent::TTTl1Tl($cId, $cModule); $sql ="SELECT * ". "FROM cms_adv_campaign_types_groups g ". "WHERE g.id='".$cId.I6201.$this->_ApplyFilters(); $this->db->query($sql); if($this->db->next_record()) $this->itemData =$this->db->Record; }function TTTll11($cId, $cModule){ parent::TTTll11($cId, $cModule); }function TTTl1lI($cId, $cModule) {parent::TTTl1lI($cId, $cModule); }function _ActionDel($cId, $cModule) {parent::_ActionDel($cId, $cModule); $II1LLLL =$this->GetLastError(); if(empty($II1LLLL['errno'])){ $sql ="update cms_adv_campaign_types set type_group=0 where type_group='".$cId.I6201; $this->db->query($sql); }}function TTT1IlI($aSql =Array(), $cId =0) {$name =$this->cms->VarsPost["name"]; if($name != ''){ $aSql =Array( I6202=>$name );}$aSql =parent::TTT1IlI($aSql, $cId); return $aSql; }}