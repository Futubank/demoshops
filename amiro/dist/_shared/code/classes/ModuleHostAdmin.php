<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       4992 xkqwsgkzlxuguqknsxzmlggqqnwxqgpzpuypxywxlxnzxkgqgutzqrqskluurtxrylylpnir
 */ ?><?php foreach(array(9868=>"",9869=>'',9870=>'WOQWKQS',9871=>"|ZGGJB",9872=>'DMtQ|WHGB',9873=>'JHWK|ZJJ',9874=>'frHnt%') as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} require_once $GLOBALS['CLASSES_PATH'] .'SiteManager.php'; class ModuleHostAdmin extends CMS_ActModule {function ModuleHostAdmin(&$cms, &$db, &$cModule) {parent::CMS_ActModule($cms, $db, $cModule); }function _Init($IIll1l1 =Array(), $IIll1LI =I9868, $IIll1Ll =I9868, $aOptions =Array()) {$IIIIL11["group_operations"] =Array(); $IIIIL11["lang_data"] =false; $aOptions += $IIIIL11; parent::_Init($IIll1l1, $IIll1LI, $IIll1Ll, $aOptions); }function _InitAdmin() {parent::_InitAdmin(); }function TTTlTI1() {parent::TTTlTI1(); }function TTTlITT($IIIL11l, $cId, $cModule =I9868) {parent::TTTlITT($IIIL11l, $cId, $cModule); }function GetHtml(&$aCustom) {return parent::GetHtml($aCustom); }function TTTlIT1(&$aCustom, $cType ="small", $IIlLI11 =I9868, $IIlLlII ="_small") {return parent::TTTlIT1($aCustom, $cType, $IIlLI11, $IIlLlII); }function TTlTll1() {parent::TTlTll1(); }function TTTlIII() {}function _ApplyFilters($prefix =I9869, $bodyType =I9869, $IIlLLl1 =true) {$res =parent::_ApplyFilters($prefix, $bodyType, $IIlLLl1); return $res; }function &TTTlI1T(&$aCustom) {return parent::TTTlI1T($aCustom); }function TTTlI1I(&$vData) {parent::TTTlI1I($vData); $vData['action'] ='apply'; }function TTTlI11(&$vData, &$aCustom) {$flags =SiteManager::TI1llT1(); $vData['create_checked'] =$flags &CLOPT_NO_BUILD ?I9869 :'checked'; $vData['create_front_checked'] =$flags &CLOPT_NO_BUILD_FRONT ?I9869 :'checked'; $vData['update_checked'] =$flags &CLOPT_NO_UPDATE ?I9869 :'checked'; $vData['delete_checked'] =$flags &CLOPT_NO_DELETE ?I9869 :I9870; $vData['copy_checked'] =$flags &CLOPT_NO_COPY ?I9869 :I9870; $vData["subform"] =$this->cms->Gui->get($this->moduleName."_subform", $vData); $vData["form_header"] =$this->words[$this->moduleName.I9871]; }function TTTl1lI($cId, $cModule) {$flags =SiteManager::TI1llT1(); if(isset($this->cms->Vars['site_create'])) $flags &= ~CLOPT_NO_BUILD; else $flags |= CLOPT_NO_BUILD; if(isset($this->cms->Vars['site_create_front'])) $flags &= ~CLOPT_NO_BUILD_FRONT; else $flags |= CLOPT_NO_BUILD_FRONT; if(isset($this->cms->Vars['site_update'])) $flags &= ~CLOPT_NO_UPDATE; else $flags |= CLOPT_NO_UPDATE; if(isset($this->cms->Vars['site_delete'])) $flags &= ~CLOPT_NO_DELETE; else $flags |= CLOPT_NO_DELETE; if(isset($this->cms->Vars[I9872])) $flags &= ~CLOPT_NO_COPY; else $flags |= CLOPT_NO_COPY; SiteManager::TI1llIT($flags); if(!isset($this->cms->VarsPost['demo_status']) || $this->cms->VarsPost['demo_status']=='unchanged') return; $lock =$this->cms->VarsPost['demo_status']==I9873 ?'lock' :'unlock'; $p['action'] =$lock; $p['front'] =I9874; $p['admin'] =$lock=='lock' ?'admin:demo_default' :'admin'; $daemon =&WZDaemon::admInstance(); $daemon->TI1l1IT($this->cms->Core); if($daemon->TlTTITI($p)) $this->cms->AddStatusMsg('demos_status_changed','blue'); else $this->cms->AddStatusMsg('demos_status_change_err','red'); }}?>