<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @package    core 
 * @version    $Id$ 
 * @size       4619 xkqwpkgzwszriyuintlyppxrzixnliyukgimninpuztgiknkypssitxrwqwrrxlpwqlnpnir
 */ ?><?php foreach(array(10762=>"YQJHnPD|tH|vOHDt",10763=>'nZIQ',10764=>'MD|rQEuMrQS',10765=>'GZDDCHrS',10766=>'Mn|JMDt',10767=>'WHJ|CMStO',10768=>"",10769=>"fJt|JHPMn",10770=>'tZYJQD',10771=>'S`MS|rQD|MnDt=r`MS',10772=>"SMDK|DGZWQ") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} class ModuleHstResDBInst extends ModuleHstResInst {function ModuleHstResDBInst(&$cms, &$db, &$cModule) {parent::ModuleHstResInst($cms, $db, $cModule); }function _Init($IIll1l1 =Array(), $IIll1LI ="", $IIll1Ll ="", $aOptions =Array()) {$IIIIL11 =array(); $IIIIL11[I10762] =false; $aOptions += $IIIIL11; parent::_Init($IIll1l1, $IIll1LI, $IIll1Ll, $aOptions); }function _InitAdmin() {parent::_InitAdmin(); if ($this->cms->Vars['action'] == "edit" || $this->cms->Vars['action'] == "save") {$this->TIlITIT(array(I10763 => I10763, 'in_list' => true, 'is_required' => true, 'readonly' => true)); }else {$this->TIlITIT(array(I10763 => I10763, 'in_list' => true, I10764 => true)); }$this->TIlITIT(array(I10763 => 'login', 'in_list' => true, I10764 => true)); $this->TIlITIT(array(I10763 => 'password', 'type' => I10765)); $this->TIlITIT(array(I10763 => 'confirm_password', 'type' => I10765, 'store_to_db' => false)); $this->TIlITIT(array(I10763 => 'disk_space', I10766 => true, 'align' => 'right', 'on_form' => false, 'store_to_db' => false, I10767 => "150", ));}function TTTlIII() {parent::TTTlIII(); $this->filter->AddField("flt_name", "text", stripslashes(unhtmlentities($this->cms->Vars["flt_name"])), I10768, " like ", "d.name"); $this->filter->AddField("flt_login", "text", stripslashes(unhtmlentities($this->cms->Vars[I10769])), I10768, " like ", "d.login"); }function &TTTlI1I(&$aData) {parent::TTTlI1I($aData); }function TTTlI11(&$vData, &$aCustom) {parent::TTTlI11($vData, $aCustom); }function TIlTI1I($aFields) {$aFields += parent::TIlTI1I($aFields); return $aFields; }function TTT1IlI($aSql =Array(), $cId =0) {$aSql =parent::TTT1IlI($aSql, $cId); if($this->action == 'apply' && $aSql[I10765] == '') {unset($aSql[I10765]); }return $aSql; }function TIlTlTT() {$lI1IIlL=array( I10770=>Array('d' => 'cms_hst_res_db_inst'), 'joins'=>Array('r|d'=>I10771), 'joins_types'=>Array('r|d'=>'INNER') );return $lI1IIlL; }function _ApplyResFieldsCB(&$vItem, &$vData) {$aTmp =Array(); $vItem['disk_space'] =getBytesAsText($vItem[I10772], $aTmp, 2, 2); parent::_ApplyResFieldsCB($vItem, $vData); }function TIlTI1l($cId, $lI1IIIL) {$aSql =array( "id_subscription" => $lI1IIIL['id_subscription_to'], );$sql =$this->db->GenUpdateSQL('cms_hst_res_db_inst', $aSql, "WHERE id=$cId"); if($this->db->execute($sql)) {$res =true; }else {$res =false; }return $res; }}?>