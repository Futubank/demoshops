<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @package    core 
 * @version    $Id$ 
 * @size       55870 xkqwpmgrzqmkyxpntuzuzsnmpxngntyqpszqrlqmtytklgmqqglzqpxryrlyplmlsnsrpnir
 */ ?><?php foreach(array(11458=>"LHYD|WZt",11459=>"",11460=>"GuYJMDO|Hff",11461=>"nH|MnSQx|SQtZMJD",11462=>"uDQ|HGtMHnD|fHrI",11463=>"fMQJSD|nZIQ",11464=>"|zGGJBwZtFMJtQrD",11465=>"fJt|LHY|WZt|MS",11466=>"IZrKQS",11467=>"fJt|DtZtuD",11468=>"tQxt",11469=>"fJt|fJnZIQ",11470=>'',11471=>"MS|Qxt|IHSuJQ",11472=>"'",11473=>"GHGuG",11474=>"IZxfMJQ",11475=>"L",11476=>'L',11477=>"coqRq?1?",11478=>'tZYJQD',11479=>"vZJuQ",11480=>"Hff",11481=>"CHrSD",11482=>"QSMt|MS",11483=>"fJZPMWHn",11484=>"ZWtMHn|vMQC",11485=>'|ZWtMHnDRHC',11486=>"Hn",11487=>"SQJ|MS",11488=>"YuttHnD",11489=>"WZnWQJ",11490=>"JQP|YJuQ",11491=>"YHSB|MtQIs",11492=>"tHG|JMnK",11493=>"DtZtuD",11494=>"ftGPQtfMJQ`GOG IHSuJQ=fMJQD]MS=",11495=>"rQDuIQ|JMnK",11496=>"MS",11497=>"SY",11498=>"ZrWOMvQ",11499=>"ZSSHn",11500=>"'?coqRq?MS='",11501=>"WHIIQntD",11502=>"'?",11503=>"MS|fMJQ",11504=>"'{?zd?fSZtQ?",11505=>"tHGMW",11506=>"uDQr",11507=>"DtZtuDQD|OMDtHrB='",11508=>"YJuQ",11509=>"IQDDZPQ|DMPn",11510=>"LHYD|rQDuIQ",11511=>"fnZIQ",11512=>"GuYJMW",11513=>"CQYDMtQ",11514=>"WID|fMJQD",11515=>"tIG|nZIQ",11516=>"`",11517=>"QxtQnDMHn",11518=>"ihsUjq|gmwTURqd|gzTo",11519=>"^:'",11520=>"WSZtQ",11521=>"IHSuJQ",11522=>"JZnP",11523=>"nZIQ",11524=>"rQS",11525=>"DOHC|DuYMtQID",11526=>"YHSB|WZtD",11527=>'YHSB|urPQnt|WZtD',11528=>'Qxt|rDD',11529=>"QIZMJ",11530=>"MtQI|SQtZMJD",11531=>"coqRq?L`MS='",11532=>'YHSB|urPQnt|MtQID',11533=>"'{?zd?fSZtQ!?",11534=>"COQrQ",11535=>"WZJJYZWK",11536=>'urPQnt|',11537=>'MS',11538=>"LHYD",11539=>"fMrDtnZIQ",11540=>"rQEuMrQS",11541=>"tBGQ",11542=>"LO|WZt|JMDt",11543=>"LHY|vZWZnWB",11544=>"vZWZnWB|DQJQWtQS",11545=>"?DQJQWtQS",11546=>"|JMDt%fHrI|fMQJSD",11547=>"SZtQ",11548=>"tMtJQ",11549=>"YHSB|nHtQIGtB",11550=>"?L`MS|WZt?mN}'",11551=>"MtQI|JMDt",11552=>"ZWtMvQ|MtQI|tBGQ",11553=>"fSZtQ",11554=>"DuYMtQI|",11555=>"DuYMtQI",11556=>"DIZJJ",11557=>"nH|WZtD",11558=>"DMIGJQ|DQt|fMQJSD",11559=>"JMDt|SZtZ",11560=>"WZtD|nuI",11561=>"'!'",11562=>"WZt|MS",11563=>"uDQ|MS|GZPQ",11564=>"tZYJQD",11565=>'?W`urPQnt?sqdw!?',11566=>"MS|WZt",11567=>"fMQJSD",11568=>"IQtOHS",11569=>"SQGZrtIQnt",11570=>"GrQvwZtmS",11571=>"WZt|nZv|SZtZ",11572=>"fMJQD|GZtO",11573=>"nZv|SZtZ",11574=>"vZWZnWB|SQGt",11575=>"iZMJQr`GOG",11576=>"dqjqwT?whUNT}1{?",11577=>'nuI|MtQID',11578=>"|JMDt%WZt|JnZIQ") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} class ModuleJobsResume extends CMS_ActModule {public $IlIllI1; public $I1LIIl1; public $I1LIILI; public $I1LIILl; public $I1LIILL; public $II1lllI; public $lI1L1L1; public $IlIlllI; public $lIl1ILI; public $lIl1ILl; public $_popup; public $IL1Ll1I ='cms_jobs_cat'; function ModuleJobsResume(&$cms, &$db, &$cModule) {parent::CMS_ActModule($cms, $db, $cModule); $this->_popup =!empty($this->cms->Vars['popup']); if($this->cms->Core->IsInstalled(I11458) && $this->module->IssetAndTrueOption("use_categories")) {$this->IlIllI1 =new CategoriesFunctionsJobsResume($this->cms, $this, I11458, "_categories_items_list.tpl", "jobs_cat_items.tpl"); }else {$this->IlIllI1 =new CMS_CategoriesFunctionsStub($this->cms, $this, I11458); }}function _Init($IIll1l1 =Array(), $IIll1LI ="", $IIll1Ll =I11459, $aOptions =Array()) {require_once($GLOBALS["FUNC_INCLUDES_PATH"]."func_gui.php"); $IIIIL11["group_operations"] =Array("publish_on", I11460, "del", "gen_sublink", "gen_keywords", "index_details", I11461, "move_position"); $IIIIL11["default_prefix"] ="j"; $IIIIL11["use_id_page"] =true; $IIIIL11[I11462] =true; $IIIIL11["name_field_name"] ="title"; $IIIIL11["announce_field_name"] ="resume"; $IIIIL11["description_field_name"] ="addon"; $IIIIL11["hide_empty_simple"] =Array("body_itemD"); $IIIIL11["use_positions"] =false; $aOptions += $IIIIL11; $this->lIl1ILI =array_flip($this->module->TTlTTTI(I11463)); $this->lIl1ILl =array_flip($this->module->GetAOption("enabled_fields")); $this->lI1L1L1 =$this->module->GetOption("attach_allowed"); $this->IlIlllI =&$this->cms->Core->GetModule("files"); $this->cms->InitMessages($this->cms->Gui->ParseLangFile("templates/lang/_jobs_resume_msgs.lng")); parent::_Init($IIll1l1, $IIll1LI, $IIll1Ll, $aOptions); $this->IlIllI1->_Init(); $this->IlIllI1->TTIT1IT(I11464); }function _InitAdmin() {parent::_InitAdmin(); }function TTTlITT($IIIL11l, $cId, $cModule =I11459) {switch($IIIL11l) {case "print": $this->TTll11I($cId); break; case "reply": $this->TIIl111($IIIL11l, $cId); $this->redirect =false; break; case "answer": $this->TIllIIT($IIIL11l, $cId); break; default: parent::TTTlITT($IIIL11l, $cId, $cModule); break; }}function GetHtml(&$aCustom) {return parent::GetHtml($aCustom); }function TTTlIII() {parent::TTTlIII(); if($this->IlIllI1->TTTlIII("flt_job_cat_id")) {$this->filter->MoveField(I11465, _MOVE_START); }foreach(array("accepted", "request", "replied", "ignored", I11466, "not viewed", "all") as $status) {$aStatus =$this->filter->TITI1TT($aStatus, Array($this->words[$status] => ($status=="all") ?I11459 :$status), 35, false); }$IIL1IIl =$this->cms->Vars["flt_status"]; $this->filter->AddField(I11467, "select", $IIL1IIl, I11459, "=", "status", $aStatus); if(empty($IIL1IIl)) {$this->filter->DisableFieldSQL(I11467); }$this->filter->AddField("flt_jobsname", I11468, stripslashes(unhtmlentities($this->cms->Vars["flt_jobsname"])), I11459, " like ", "title"); $this->filter->MoveField("flt_jobsname", _MOVE_START); $this->filter->AddField(I11469, I11468, stripslashes(unhtmlentities($this->cms->Vars[I11469])), I11459, " LIKE ", "concat(fname, ' ' , lname)"); $this->filter->MoveField(I11469, _MOVE_START); }function _ApplyCatFilters($prefix ='', $bodyType ='', $IIlLLl1 =true) {$res =parent::_ApplyFilters($prefix, $bodyType, $IIlLLl1); return $res; }function _ApplyFilters($prefix =I11470, $bodyType =I11470, $IIlLLl1 =true) {$res =parent::_ApplyFilters($prefix, $bodyType, $IIlLLl1); return $res; }function TTTlI1I(&$vData) {parent::TTTlI1I($vData); if ($this->action == "reply") {$vData["action"] ="answer"; }if ($this->_popup) {$lI11Il1 =intval($this->cms->VarsGet[I11471]); if ($lI11Il1) {$sql ="SELECT * FROM cms_jobs_history WHERE id='".$lI11Il1.I11472; $this->db->query($sql); $this->db->next_record(); $lI11ILI =$this->db->Record; $vData =$lI11ILI; $vData["public"] ="checked"; $vData["job_resume_status_request"] ="selected"; $vData[I11473] ='1'; $vData["id_jobs_history"] =$lI11Il1; }}$vData["fdate"] =date($this->cms->DFMT["php"]); $vData[I11474] =getBytesAsText($this->cms->Core->GetOption("max_upload_size"), $this->words, 1); $vData['form_width'] ='100%'; }function TTTlI1l() {$res =false; if(parent::TTTlI1l()) {$res =$this->IlIllI1->TTTlI1l(); }return $res; }function TTTlI11(&$vData, &$aCustom) {$aCatSql =Array(); $aCatSql["join_to_alias"] =I11475; $this->IlIllI1->TTIT1lT("item_list", $aCatSql); $aCatSql["order_replace"]["jobname"] ="CONCAT(j.fname, ' ', j.lname)"; $this->browser->InitSQL( "j.id, j.id_cat, j.public, CONCAT(fname, ' ', lname) AS jobname, j.title, j.resume, j.addon, j.phone, j.status, j.statuses_history, j.department, j.id_file, DATE_FORMAT(j.date,'".$this->cms->DFMT["db"]."') AS fdate ".$aCatSql["select"], Array( 'tables'=>Array(I11476=>'cms_jobs_resume') +$aCatSql['tables'], 'joins'=>$aCatSql['joins'] ),I11477.$this->_ApplyFilters().$this->TTTlIl1(), I11459, "date", "j.id desc", $aCatSql["order_replace"] );if(!empty($aCatSql['tables'])) {$this->browser->AddSQLJoinedTables($this->cms->Core, I11476, $aCatSql[I11478]); }$aCustom["fields"] += Array( "public"=>Array("action"=>"flagicon", I11479=>1, "id"=>"pub_id", "on"=>$this->moduleName."_list:public_on",I11480=>$this->moduleName."_list:public_off"), "status"=>Array("action"=>"get_word", I11481=>&$this->words), "action_edit"=>Array("action"=>"flagicon", I11479=>I11459, "id"=>I11482, "on"=>$this->moduleName."_list:edit",I11480=>I11459), "action_reply"=>Array("action"=>I11483, I11479=>I11459, "id"=>"reply_id", "on"=>$this->moduleName."_list:icon_reply",I11480=>I11459), I11484=>Array('action'=>'callback', 'object'=>&$this, 'method'=>I11485), "action_print"=>Array("action"=>I11483, I11479=>I11459, "id"=>"print_id", I11486=>$this->moduleName."_list:print",I11480=>I11459), "action_del"=>Array("action"=>I11483, I11479=>I11459, "id"=>I11487, I11486=>$this->moduleName."_list:del",I11480=>I11459), );$aCustom["applied_id"] ="j.id"; if ($this->_popup) {$aCustom["form_data"][I11488] =Array("add"); }else {$aCustom["form_data"][I11488] =Array("add", "apply", I11489, "save"); }$this->IlIllI1->TTTlI11($vData, $aCustom); parent::TTTlI11($vData, $aCustom); }function TTT11Tl(&$IILILII) {$IILILII[] ="published"; $IILILII[] ="notpublished"; $IILILII[] ="leg_yellow"; $IILILII[] =I11490; $IILILII[] ="leg_edit"; $IILILII[] ="leg_attach"; $IILILII[] ="leg_noattach"; $IILILII[] ="leg_del"; parent::TTT11Tl($IILILII); }function TTT1lTl($IIl1II1, &$record, &$vData, &$aData) {parent::TTT1lTl($IIl1II1, $record, $vData, $aData); switch($IIl1II1) {case I11491: $vData["item_link"] =$this->cms->Gui->get($this->moduleName."_list:itemD_item_link", $vData); $this->IlIllI1->TTT1lTl($IIl1II1, $record, $vData, $aData); $vData["top_link"] =$this->cms->TTITI1l("itemD", I11492, $vData); $vData["date"] =$this->cms->TTITI1l("itemD", "date", $record["fdate"]); $vData[I11493] =$this->words[$record[I11493]]; $vData[I11493] =$this->cms->TTITI1l("itemD", I11493, $vData[I11493]); if ($vData["id_file"]) {$tData["resume_link"] =I11494.$vData["id_file"]; $vData[I11495] =$this->cms->TTITI1l("itemD", I11495, $tData); }if ($this->cms->Core->IsInstalled("jobs_employer")) {$tmpMod =&$this->cms->Core->GetModule("jobs_employer"); if ($tmpMod->IsPresentInPMandPublic()) {$tData["resume_request"] =$tmpMod->GetFrontLink(); $tData[I11496] =$vData[I11496]; $vData["resume_request"] =$this->cms->TTITI1l("itemD", "resume_request", $tData); }}break; }}function TTTl1Tl($cId, $cModule) {parent::TTTl1Tl($cId, $cModule); $sql ="SELECT j.*, DATE_FORMAT(j.date,'".$this->cms->DFMT[I11497]."') AS fdate, ". "IF(j.public > 0, 'checked', '') AS public ". "FROM cms_jobs_resume AS j ". "WHERE j.id='".$cId.I11472.$this->_ApplyFilters(); $this->db->query($sql); if($this->db->next_record()) {$this->itemData =$this->db->Record; unset($this->itemData[I11498]); $this->itemData["job_resume_status_".$this->db->Record[I11493]] ="selected"; $this->itemData["resume"] =$this->cms->htmlchars($this->itemData["resume"]); $this->itemData[I11499] =$this->cms->htmlchars($this->itemData[I11499]); }}function _ActionDel($cId, $cModule) {$this->TIllIIl($cId); parent::_ActionDel($cId, $cModule); }function TTTll11($cId, $cModule) {parent::TTTll11($cId, $cModule); if (empty($this->errno) && $this->appliedId >0) {if (!$this->_popup) {$this->TIIl1ll(); }else {$lI11ILl =intval($this->cms->VarsPost["id_jobs_history"]); if ($lI11ILl) {$sql ="UPDATE cms_jobs_resume SET id_file='".intval($this->cms->VarsPost["id_file"])."', id_jobs_history='".$lI11ILl.I11500.$this->appliedId.I11472; $this->db->query($sql); $sql ="SELECT h.statuses_history FROM cms_jobs_history h WHERE h.id='".$lI11ILl.I11472; $this->db->query($sql); if ($this->db->next_record()) {$oSess =admSession(); $aUserInfo =$oSess->getUserInfo(); $userName =$aUserInfo["username"]; unset($oSess); $lIlIILI =unserialize($this->db->Record["statuses_history"]); $lIlIILI[time()] =Array(I11493=>'moved', I11501=>I11470, "user"=>$userName); $sql ="UPDATE cms_jobs_history SET ". " status = 'moved', ". " statuses_history='".addslashes(serialize($lIlIILI)).I11502. "WHERE id='".$lI11ILl.I11472; $this->db->query($sql); }}if (intval($this->cms->VarsPost["public"])) {$this->TIllII1($this->appliedId); }}}if ($this->_popup) {$this->cms->Gui->addGlobalVars(Array("JOBS_RESUME_POPUP" => "1")); }}function TTTl1lI($cId, $cModule) {parent::TTTl1lI($cId, $cModule); if(empty($this->errno)) {$this->TIIl1ll(); $this->IlIllI1->TTTl1lI($cId, $cModule); }}function _actionsRow(&$aItem, &$aData) {if ($aItem[I11503] != 0) {$aItem[I11484] =$this->cms->Gui->get($this->moduleName."_list:icon_file", $aItem); }else {$aItem[I11484] =$this->cms->Gui->get($this->moduleName."_list:icon_file_off", $aItem); }}function TTll11I($cId) {$this->cms->Gui->addBlock($this->moduleName."_subform", $GLOBALS["LOCAL_FILES_REL_PATH"]."_admin/templates/jobs_resume_print_".$this->cms->lang.".tpl"); $this->TTTl1Tl($cId, $cModule); $html =$this->cms->Gui->get($this->moduleName."_subform", $this->itemData); echo $html; $GLOBALS["conn"]->Out(); die(); }function _ActionPublish($cId, $cModule) {$this->IlIllI1->TTIT1ll($cId, $cModule); parent::_ActionPublish($cId, $cModule); $this->IlIllI1->_ActionPublish($cId, $cModule); }function TTT1Tl1($cType, $cModule, $condition =I11470) {$res =$this->IlIllI1->TTT1Tl1($cType, $cModule); if(!$res) {parent::TTT1Tl1($cType, $cModule, $condition); }}function TIllIIT($IIIL11l, $cId) {$id =intval($this->cms->VarsPost[I11496]); $sql ="SELECT j.*, DATE_FORMAT(j.date,'".$this->cms->DFMT[I11497].I11504. " FROM cms_jobs_resume j WHERE j.id='".$id.I11472; $this->db->query($sql); if ($this->db->next_record()) {$topic =$this->cms->VarsPost["topic"]; $answer =$this->cms->VarsPost["answer"]; $letters =unserialize($this->db->Record["letters"]); $letters[time()] =Array(I11505=>$topic, "letter"=>$answer); $oSess =admSession(); $aUserInfo =$oSess->getUserInfo(); $userName =$aUserInfo["username"]; unset($oSess); $lIlIILI =unserialize($this->db->Record["statuses_history"]); $lIlIILI[time()] =Array(I11493=>'replied', I11501=>I11470, I11506=>$userName); if (!empty($topic) && !empty($answer)) {$sql ="UPDATE cms_jobs_resume SET ". "status = 'replied', ". "letters = '".addslashes(serialize($letters))."', ". I11507.addslashes(serialize($lIlIILI)).I11502. "WHERE id='".$id.I11472; $this->db->query($sql); require_once($GLOBALS["CLASSES_PATH"]."Mailer.php"); $oMail =new Mailer(); $oMail->RecipientAddress =$this->db->Record["email"]; $oMail->SenderAddress =$this->cms->Core->GetOption("company_robot_email"); $oMail->SenderName =$this->cms->Core->GetOption("company_name"); $oMail->Subject =$topic; $oMail->Body =$answer; $oMail->BodyFormat ="plain"; $oMail->Prepare(); if (!$oMail->Send()) {trigger_error("Feedback: sending email failed...", E_USER_WARNING); }else {$this->cms->AddStatusMsg("status_sent", I11508); }}}$this->appliedId =0; }function TIIl111($IIIL11l, $cId) {$this->words['jobs_resume_add'] =$this->words['jobs_resume_reply']; $sql ="SELECT j.*, DATE_FORMAT(j.date,'".$this->cms->DFMT[I11497]."') AS fdate, ". "IF(j.public > 0, 'checked', '') AS public ". "FROM cms_jobs_resume AS j ". "WHERE j.id='".$cId.I11472.$this->_ApplyFilters(); $this->db->query($sql); if($this->db->next_record()) {$this->itemData =$this->db->Record; }$lI1L1LI =$this->module->GetOption("message_topic"); $this->itemData["message_topic"] =$lI1L1LI[$this->langData]; $aSign =$this->module->GetOption(I11509); $this->itemData[I11509] =$aSign[$this->langData]; }function TTT1IlI($aSql =Array(), $cId =0) {$title =$this->cms->VarsPost["title"]; if (!empty($this->cms->VarsPost["fdate"])) {$udate =DateTools::getCorrectUDate($this->cms->VarsPost["fdate"], $this->cms->DFMT["conf"]); $udate =DateTools::toMysqlDate($udate); }else {$udate =I11459; }$department =I11459; if ($this->cms->Core->IsInstalled(I11510)) {$sql ="SELECT cms_jobs_cat.name FROM cms_jobs_cat WHERE cms_jobs_cat.id = '".intval($this->cms->VarsPost["cat_id"]).I11472; $this->db->query($sql); if ($this->db->next_record()) {$department =$this->db->Record["name"]; }}if(!empty($title)) {$aSql =Array( "title"=>$title, I11511=>$this->cms->VarsPost[I11511], "lname"=>$this->cms->VarsPost["lname"], "department"=>$department, "date"=>$udate, I11493=>$this->cms->VarsPost[I11493], I11512=>$this->cms->VarsPost[I11512], "resume"=>$this->cms->VarsPost["resume"], I11499=>$this->cms->VarsPost[I11499], "email"=>$this->cms->VarsPost["email"], I11513=>$this->cms->VarsPost[I11513], "phone"=>$this->cms->VarsPost["phone"], );}$this->IlIllI1->TTT1IlI($aSql, $cId); $aSql =parent::TTT1IlI($aSql, $cId); return $aSql; }function TIIl1ll() {$lI1L1L1 =$this->module->GetOption("attach_allowed"); $lI11IIl =$this->module->GetOption("forbidden_attach"); $lI11III =I11514; $lI1L111 ="cms_ftypes"; if(!empty($_FILES["resume_file"]["tmp_name"])) {if ($lI1L1L1 && is_uploaded_file($_FILES["resume_file"][I11515])) {$fsize =@filesize($_FILES["resume_file"][I11515]); if (($fsize >0) && ($fsize <= $this->module->GetOption("max_upload_size"))) {$extension =mb_strtolower(mb_substr(strrchr($_FILES["resume_file"]["name"], I11516), 1)); if (!in_array($extension, $lI11IIl)) {$newfilename ='jobs_resume_'.$this->appliedId."_".$_FILES["resume_file"]["name"].$this->IlIlllI->GetOption(I11517); $newfilename =$this->cms->TTITI11(stripslashes($newfilename)); if($this->cms->doUploadFile($_FILES["resume_file"], $GLOBALS[I11518].$this->IlIlllI->GetOption("files_path").$newfilename)) {$this->TIllIIl($this->appliedId); $sql ="SELECT id FROM ".$lI1L111." WHERE concat(';', extensions) like '%;".addslashes($extension).I11519; $record =$this->db->getRecord($sql); $ftype =intval($record[I11496]); $asql =Array( "ftype"=>$ftype, "name"=>$_FILES["resume_file"]["name"], I11520=>'=|NOW()', "mdate"=>'=|NOW()', I11521=>'files', I11522=>$this->langData); $sql =$this->db->GenInsertSQL($lI11III, $asql); $this->db->query($sql); $lid =$this->db->lastInsertId(); $asql =Array( "filename"=>addslashes($newfilename), "filesize"=>$fsize, "original_fname"=>$_FILES["resume_file"][I11523]); $sql =$this->db->GenUpdateSQL($lI11III, $asql, "WHERE id='".$lid.I11472); $this->db->query($sql); $asql =Array(I11503=>$lid); $sql =$this->db->GenUpdateSQL("cms_jobs_resume", $asql, "WHERE id='".$this->appliedId.I11472); $this->db->query($sql); }else {$this->cms->AddStatusMsg("attach_fail", I11524); }}else {$this->cms->AddStatusMsg("attach_warn", I11524); }}else {$this->cms->AddStatusMsg("attach_size_warn", I11524, I11459, I11459, Array('size'=>getBytesAsText($this->module->GetOption("max_upload_size"),$this->words,1))); }}}}function TTTlTI1() {parent::TTTlTI1(); $this->I1LIIl1 =$this->module->GetOption(I11525); $this->I1LIILl =$this->module->GetOption("subitems_splitter_period"); $this->I1LIILL =$this->module->GetOption("subitems_cols"); $this->cms->SetsTemplate =$this->moduleName."_list"; }function TTTllTI(&$aCustom) {$flag =true; $I1LII1L =false; $cat =$this->IlIllI1->TTTllTI($aCustom); if($cat != -1) {if($this->id >0) {$this->SetBodyType(I11491); $flag =false; $I1LII1L =true; }else {if($cat === 0) {$this->SetBodyType('body_urgent_cats'); $this->SetBodyType(I11526); $this->bodyType ='body_cats'; $flag =false; }else {if($this->id != -1) {$this->SetBodyType("body_items"); $this->SetBodyType('body_urgent_items'); }else {$this->SetBodyType(I11491); $flag =false; $I1LII1L =true; }}}if($cat !== false) {if($flag && $this->module->GetOption("multicat")) {$this->SetBodyType(I11527); $this->SetBodyType(I11526); if ($this->bodyType == I11527) {$this->bodyType ='body_cats'; }}if($I1LII1L && $this->module->GetOption("multicat_in_body_details")) {$this->SetBodyType(I11527); $this->SetBodyType(I11526); if ($this->bodyType == I11527) {$this->bodyType ='body_cats'; }}}}parent::TTTllTI($aCustom); }function TTTlllT(&$vData) {parent::TTTlllT($vData); }function TTTll1T(&$vData, &$aCustom) {$aDefault =Array(); foreach($this->IIllIL1 as $IIlL1L1 => $tmp) {$this->lIlLL11 =false; $IIlL1Ll =$this->TTITTT1($aCustom, $IIlL1L1, false); switch($IIlL1L1) {case I11526: case I11527: $IIlL1Ll["page_item_type"] =$IIlL1L1; $IIlL1Ll['show_urgent_elements'] =$this->cms->Core->getModOption('jobs_cat', 'show_urgent_elements'); if (isset($this->ext['ext_rss'])) {$I1LII11 =$this->ext['ext_rss']->IL1LI11; $this->ext[I11528]->IL1LI11 =false; }if ($this->cms->Core->IsInstalled("jobs_employer")) {$tmpMod =&$this->cms->Core->GetModule("jobs_employer"); if ($tmpMod->IsPresentInPMandPublic()) {$vData["request_link"] =$tmpMod->GetFrontLink(); $vData["new_request_link"] =$this->cms->Gui->get($this->moduleName."_list:new_request_link", $vData); }}$this->IlIllI1->TTTll1T($vData, $IIlL1Ll); break; case I11491: $aDefault["page_item_type"] =I11491; $IIlL1Ll += $aDefault; $IIlL1Ll["simple_set_fields"] =Array("title", I11511, "lname", I11529, I11513, "phone", "department", "fdate", "resume", I11499); $this->IlIllI1->TTTll1T($vData, $IIlL1Ll); $aCatSql =Array(); $this->IlIllI1->TTIT1lT(I11530, $aCatSql); $sql ="SELECT j.id, j.title, j.id_cat, j.id_file, j.department"; foreach ($this->lIl1ILl as $fieldName => $value) {if (isset($this->lIl1ILI[$fieldName])) {$sql .= ",j.".$fieldName; }}$sql .= ",DATE_FORMAT(j.date, '".$this->cms->DFMT[I11497].I11504. "FROM cms_jobs_resume AS j ". I11531.$this->id.I11472.$aCatSql["where"].$this->_ApplyFilters(); $this->db->query($sql); $IIlL1Ll["item"] ="item_detail"; break; case "body_items": case I11532: $aDefault["page_item_type"] =$IIlL1L1; $IIlL1Ll += $aDefault; $this->TTTllll($vData, $IIlL1Ll); $aCatSql =Array(); $this->IlIllI1->TTIT1lT("item_list", $aCatSql); $this->browser->InitSQL("j.id, j.id_cat, j.public, j.title, j.department, j.sublink, ". "DATE_FORMAT(j.date, '".$this->cms->DFMT[I11497].I11533. "j.fname, j.lname ".$aCatSql["select"], " FROM cms_jobs_resume AS j ".$aCatSql["join"], I11477.$aCatSql[I11534].$this->_ApplyFilters(I11470, $IIlL1L1 == I11532 ?$IIlL1L1 :I11470).$this->TTTlIl1(), I11459, $this->browser->TI1TTlT() );$this->browser->AddSQLJoinedTables($this->cms->Core, I11476, $aCatSql["tables"]); $IIlL1Ll["fields"]["details"] =Array("action"=>I11535, "object"=>&$this, "method"=>"_GetItemCB"); $IIlL1Ll["row_set"] =($IIlL1L1 == I11532 ?I11536 :I11470) ."item_row"; $this->lIlLL11 =true; if(!$this->IlIllI1->TTTll1T($vData, $IIlL1Ll)) {$IIlL1Ll["page_item_type"] ="body_empty"; }break; case "body_form": $lI1L1l1 =$this->cms->Vars[I11537]; $lI1L1lI =I11459; $lIl1I1l =I11459; $required =$this->cms->Gui->getAbs($this->moduleName."_list:required_mark", I11459); $aCustom["list_data"]["jobs_link"] =$vData["jobs_link"] =$this->cms->Core->GetModFrontLink(I11538); if (is_object($this->cms->Member) && $this->cms->Member->isLoggedIn()) {$vData["user_id"] =$this->cms->Member->getUserInfo(I11496); $vData["id_user"] =$this->cms->Gui->get($this->moduleName."_list:id_user", $vData); $vData["firstname"] =$this->cms->Member->getUserInfo(I11539); $vData["lastname"] =$this->cms->Member->getUserInfo("lastname"); $vData[I11529] =$this->cms->Member->getUserInfo(I11529); }foreach ($this->lIl1ILl as $fieldName => $value) {if (isset($this->lIl1ILI[$fieldName])) {if (isset($this->aRequiredFields[$fieldName])) {$vData["required"] =$required; $lIl1I1l .= $this->cms->Gui->getAbs($this->moduleName."_list:required_script_".$fieldName ,I11459); }else {$vData[I11540] =I11459; }$vData[$fieldName] =$this->cms->Gui->getAbs($this->moduleName."_list:".$fieldName, $vData); $formHtml .= $vData[$fieldName]; }else {if(strstr($fieldName, $this->lI1L1IL)) {$lIl1ILL =intval(mb_substr($fieldName, mb_strlen($this->lI1L1IL))); if ($lIl1ILL >0) {$lIl1I1L =$this->aCustomFields[$fieldName]; $lIl1I1L[I11523] =$this->lI1L1IL.$lIl1ILL; $lIl1I1L["title"] =$this->words[$this->lI1L1IL.$lIl1ILL]; if (isset($this->aRequiredFields[$fieldName])) {$lIl1I1L[I11540] =$required; $lIl1I1l .= $this->cms->Gui->get($this->moduleName."_list:required_custom", $lIl1I1L); }$vData[$fieldName] =$this->cms->Gui->getAbs($this->moduleName."_list:field_custom_".$lIl1I1L[I11541], $lIl1I1L); $formHtml .= $vData[$fieldName]; $lI1L1lI .= $vData[$fieldName]; }}}}$vData["required_script"] =$lIl1I1l; $vData["custom_fields"] =$lI1L1lI; $aCatSql =Array(); if($this->cms->Core->IsInstalled(I11458)) {$aCatSql["join_to_alias"] ="h"; $this->IlIllI1->TTIT1lT(I11542, $aCatSql); }$sql ="SELECT j.id, j.name, j.active ". $aCatSql["select"]. " FROM cms_jobs j ". $aCatSql["joins_string"]. " WHERE (j.status='opened' AND j.public = 1 AND (j.urgent = 1 OR j.public_direct_link = 0) " .$aCatSql['where']. ") ORDER BY ". $aCatSql["order_replace_string"]. " j.id ASC"; $this->db->query($sql); $vData[I11543] =I11459; while($this->db->next_record()) {$tmpItem =$this->db->Record; $tmpItem["vacancy_value"] =$tmpItem[0]; $tmpItem["vacancy_name"] =$tmpItem[1]; if (!empty($tmpItem[3])) {$tmpItem["vacancy_department"] =$tmpItem[3]; }if ($lI1L1l1 != "0") {if ($lI1L1l1 == $tmpItem[0]) {$tmpItem[I11544] =" selected"; }else {$tmpItem[I11544] =I11459; }$vData[I11543] .= $this->cms->Gui->get($this->moduleName."_list:item_select", $tmpItem); }else {if ($tmpItem[2] === "1") {$tmpItem["vacancy_active"] =I11545; }else {$tmpItem["vacancy_active"] =I11459; }$vData[I11543] .= $this->cms->Gui->get($this->moduleName."_list:item_select", $tmpItem); }}$vData[I11543] =$this->cms->Gui->getAbs($this->moduleName."_list:job_vacancy", $vData); $vData["form_fields"] =$this->cms->Gui->get($this->moduleName.I11546, $vData); $vData["form"] =$this->cms->Gui->get($this->moduleName."_list:form", $vData); break; }$this->lIlLL11 =false; parent::TTTll1T($vData, $IIlL1Ll); if (isset($I1LII11)) {$this->ext[I11528]->IL1LI11 =$I1LII11; unset($I1LII11); }}}function _GetDetailsLinkCB(&$aItem, &$aData) {if(!empty($aItem["body"])) {$aItem["details_link"] =1; }}function TIITIll(&$aItem, &$aData, $setPrefix =I11459) {$aItem[I11547] =$aItem["fdate"]; $aItem[I11547] =$this->cms->TTITI1l("item", I11547, $aItem); $aItem["title"] =$this->cms->TTITI1l("item", I11548, $aItem); $aItem[I11511] =$this->cms->TTITI1l("item", I11511, $aItem); $aItem["lname"] =$this->cms->TTITI1l("item", "lname", $aItem); if($aItem[I11549]) {$aItem["more"] =$this->cms->TTITI1l("item", "more", $aItem); }}function _GetItemCB(&$aItem, &$aData) {$this->TIITIll($aItem, $aData); }function TIITIl1(&$IIL1lLI, $IIl1II1 =I11470) {$this->lIlLL11 =false; $II11L1L =" j.urgent DESC, j.".$this->module->GetOption("front_subitem_sort_col")." ".$this->module->GetOption("front_subitem_sort_dim"); $fields ="SELECT j.id, j.id_cat, j.title, j.fname, j.lname, j.sublink, ". " DATE_FORMAT(j.date, '".$this->cms->DFMT[I11497]."') AS fdate, j.urgent "; $fields .= " FROM cms_jobs_resume AS j WHERE "; if($this->I1LIIl1 >0) {$sql =$fields." j.id_cat='__id_cat__'".$this->_ApplyFilters(I11470, $IIl1II1, false)." ORDER BY ".$II11L1L." LIMIT ".$this->I1LIIl1; }else {$sql =$fields.I11550.implode("','", $IIL1lLI)."')".$this->_ApplyFilters(I11470, $IIl1II1, false)." ORDER BY j.id_cat ASC, ".$II11L1L; }$this->I1LIILI =$this->IlIllI1->TTIITTI($sql, $IIL1lLI, "__id_cat__"); $this->lIlLL11 =true; }function _DrawSubItemsCB(&$aItem, &$aData) {$I1LIlIl =$this->I1LIILI[$aItem[I11496]]; $aItem[I11551] =I11459; if(is_array($I1LIlIl)) {$k =0; $numRows =sizeof($I1LIlIl); $vData["simple_prefix"] ="subitem_"; $I1LIlIL =$this->options["name_field_name"]; $this->options["name_field_name"] =I11548; foreach($I1LIlIl as $index=>$aSubItem) {$k++; $aTmp[I11552] ="body_items"; $aTmp["cat_id"] =$aItem[I11496]; $aTmp["cat_sublink"] =$aItem["sublink"]; $aTmp[I11547] =$aItem[I11553]; $this->_GetNavDataCB($aSubItem, $aTmp); $aSubItem += $this->IIllllL; $IIlLIIL =Array("action"=>"_GetPicturesCB", "data"=> $_data =array(&$aSubItem, &$vData)); $this->TTT1lI1($IIlLIIL, array('ext_images')); $this->TIITIll($aSubItem, $aData, I11554); $aItem[I11551] .= $this->cms->TTITI1l("subitem", "row", $aSubItem); if ($k >0 && $k != $numRows) {if ((($k %$this->I1LIILL) == 0)) {$aItem[I11551] .= $this->cms->TTITI1l("subitem", "Vsplitter", $aItem); }elseif ($k >1) {$aItem[I11551] .= $this->cms->TTITI1l(I11555, "Hsplitter", $aItem); }if ($this->I1LIILl && $k%$this->I1LIILl == 0) {$aItem[I11551] .= $this->cms->TTITI1l(I11555, "nSplitter", I11459); }}}$this->options["name_field_name"] =$I1LIlIL; $aItem[I11551] =$this->cms->TTITI1l(I11555, "list", $aItem); }}function TTTlIT1(&$aCustom, $cType =I11556, $IIlLI11 =I11459, $IIlLlII ="_small") {$this->IlIllI1->TTTlITl($aCustom, $cType, $IIlLI11, $IIlLlII, true); $html =parent::TTTlIT1($aCustom, $cType, $IIlLI11, $IIlLlII); $this->IlIllI1->TTTlITl($aCustom, $cType, $IIlLI11, $IIlLlII, false); return $html; }function TTTll1I(&$vRes, &$aCustom, $cType, $IIlLlII) {$I1LIlI1 =$this->module->GetOption("small_number_items"); $I1LIllI =$this->module->GetOption("small_category_ids"); $I1LIlll =$this->module->GetOption("small_number_categories"); $mode =I11557; if($this->cms->Core->IsInstalled(I11458)) {$mode ="cats_ids"; $I1LIllL =is_array($I1LIllI); if(!$I1LIllL || ($I1LIllL && sizeof($I1LIllI) == 0)) {if(empty($I1LIllI)) {if(empty($I1LIlll)) {$mode =I11557; }else {$mode ="cats_num"; }}else {$I1LIllI =Array($I1LIllI); }}}$I1LIll1 =" "; if(!empty($I1LIlI1)) {$I1LIll1 =" LIMIT ".$I1LIlI1; }$aDefault =Array(); $aDefault[I11558] =Array(I11548); $aCustom += $aDefault; $aDefault["list_data"]["splitter_prefix"] ="small_"; $aCustom["list_data"] += $aDefault[I11559]; $I1LIlLI =" j.".$this->module->GetOption("small_items_sort_col")." ".$this->module->GetOption("small_items_sort_dim"); $aCatIds =Array(); if($mode == I11560 || $mode == "cats_ids") {$I1LIlLl =in_array('at_spec_block', $this->IlIllI1->IILI1LI->GetAOption('show_urgent_elements')); $this->TTITTTI('push'); $sql ="SELECT c.id AS cat_id, c.sublink AS cat_sublink, c.name AS cat_name FROM cms_jobs_cat AS c WHERE 1".$this->_ApplyCatFilters('c', I11470, !$I1LIlLl); $I1LIlLL =" ORDER BY " .($I1LIlLl ?'c.urgent DESC, ' :I11470) ."c.".$this->module->GetOption("small_categories_sort_col")." ".$this->module->GetOption("small_categories_sort_dim"); if($mode == I11560) {$sql .= $I1LIlLL." LIMIT ".$I1LIlll; }else {$sql .= " AND id IN('".implode(I11561, $I1LIllI)."')".$I1LIlLL; }$this->TTITTTI('pop'); $this->db->query($sql); while ($this->db->next_record()) {$aCatIds[] =$this->db->Record["cat_id"]; $this->II1lllI["aCats"][$this->db->Record[I11562]] =$this->db->Record; }}$I1LIlL1 =in_array('at_spec_block', $this->module->GetAOption('show_urgent_elements')); if($mode == I11557) {$aCatSql =Array(); $this->IlIllI1->TTIT1lT('small_list', $aCatSql); }$IILL1ll =$this->options["use_id_page"]; $this->options[I11563] =false; switch($mode) {case I11557: $lIL1L11 =empty($aCatSql["select"]) ?"''" :'c.name'; $this->browser->InitSQL("j.*, " .$lIL1L11 ." as department, date_format(j.date,'".$this->cms->DFMT[I11497]."') as fdate ".$aCatSql["select"], "FROM cms_jobs_resume AS j ".$aCatSql["join"], I11477.$this->_ApplyFilters(I11470, I11470, !$I1LIlL1).$aCatSql[I11534], I11459, $I1LIlLI );$this->browser->SetForceRules(I11459, $I1LIll1); $this->browser->AddSQLJoinedTables($this->cms->Core, I11476, $aCatSql[I11564]); if ($I1LIlL1) {$this->browser->TI1TII1(array ('j.urgent DESC')); }break; case I11560: case "cats_ids": $aItems =Array(); if(sizeof($aCatIds) >0) {$ILLILlL ="SELECT j.id, j.id_page, j.title, j.fname, j.lname, j.resume, c.name as department, j.sublink, date_format(j.date,'".$this->cms->DFMT[I11497]."') as fdate "; if ($I1LIlL1) {$I1LIlLI =I11565 .$I1LIlLI; }foreach($aCatIds as $k => $catId) {$sql =$ILLILlL.", c.id AS id_cat, c.sublink AS cat_sublink FROM cms_jobs_resume AS j LEFT JOIN cms_jobs_cat c ON c.id=j.id_cat WHERE id_cat=".$catId." ".$this->_ApplyFilters(I11470, I11470, !$I1LIlL1)." ORDER by ".$I1LIlLI.$I1LIll1; $this->db->query($sql); while($this->db->next_record()) {$aItems[] =$this->db->Record +$this->II1lllI["aCats"][$this->db->Record[I11566]]; }}}require_once $GLOBALS['CLASSES_PATH'] .'CMS_IteratorArray.php'; $I1LIl1I =$this->db; $this->db =new CMS_IteratorArray($this->module); $this->db->SetArray($aItems); $this->browser->InitSQL(I11496, "FROM cms_jobs_resume ", I11477 );$this->browser->SetForceRules(I11459, " "); $aCustom[I11567] += Array("cat_details" => Array("action"=>I11535, "object"=>&$this, "method"=>"_GetSmallCatDetailsCB")); $this->II1lllI["prevCatId"] =-1; break; }$this->options[I11563] =$IILL1ll; $aCustom[I11567] += Array("details" => Array("action"=>I11535, "object"=>&$this, I11568=>"_GetSmallDetailsCB")); parent::TTTll1I($vRes, $aCustom, $cType, $IIlLlII); if(isset($I1LIl1I)) {$this->db =$I1LIl1I; }}function _GetSmallDetailsCB(&$aItem, &$aData) {$aItem["front_link"] =$aData["front_link"]; if($this->II1lllI["department"] != $aItem[I11569]) {$this->II1lllI[I11569] =$aItem[I11569]; $aItem[I11569] =$this->cms->TTITI1l(I11556, I11569, $aItem); }else {$aItem[I11569] =I11459; }$aItem[I11547] =$aItem[I11553]; $aItem[I11547] =$this->cms->TTITI1l(I11556, I11547, $aItem); $aItem[I11548] =$this->cms->TTITI1l(I11556, I11548, $aItem); $aItem[I11511] =$this->cms->TTITI1l(I11556, I11511, $aItem); $aItem["lname"] =$this->cms->TTITI1l(I11556, "lname", $aItem); $aItem["more"] =$this->cms->TTITI1l(I11556, "more", $aItem); }function _GetSmallCatDetailsCB(&$aItem, &$aData) {if($this->II1lllI[I11570] != $aItem[I11566]) {$this->II1lllI[I11570] =$aItem[I11566]; $tmp =Array(I11552=>I11526); $tmp2 =Array(I11496=>$aItem[I11566], "sublink"=>$aItem["cat_sublink"]); $this->_GetNavDataCB($tmp2, $tmp); $aItem["front_link"] =$aData["front_link"]; $aItem[I11571] =$tmp2["nav_data"]; $aItem["cat_detail"] =$this->cms->TTITI1l(I11556, "cat_detail", $aItem); }else {$aItem["cat_detail"] =I11459; }}function TTT11IT($IILILIL) {$navData =parent::TTT11IT($IILILIL); $navData += $this->IlIllI1->TTT11IT($IILILIL); return $navData; }function TIllIIl($cId) {$filesPath =$GLOBALS[I11518].$this->IlIlllI->GetOption(I11572); $sql ="SELECT cms_jobs_resume.id_file, cms_files.filename FROM cms_jobs_resume LEFT JOIN cms_files ON cms_files.id = cms_jobs_resume.id_file WHERE cms_jobs_resume.id='".$cId.I11472; $this->db->query($sql); if ($this->db->next_record()) {$fileId =$this->db->Record[I11503]; $fileName =$this->db->Record["filename"]; $this->db->query("DELETE FROM cms_files WHERE id = '".$fileId.I11472); $this->cms->TTITlTT($fileName, $filesPath); }}function correctStopArgNames($cData, $IIL1lL1, &$res, &$aData, $IIL1l1I ="getallvalues"){ return $this->IlIllI1->correctStopArgNames($cData, $IIL1lL1, $res, $aData, $IIL1l1I); }function TTT1II1(&$db, &$aParams) {$aVars =parent::TTT1II1($db, $aParams) +$this->IlIllI1->TTT1II1($db, $aParams); return $aVars; }function TIllII1($lI1L1I1 =0) {if ($lI1L1I1) {$this->db->query("SELECT r.id, r.title, r.department, r.id_cat, r.fname, r.lname, r.email, r.phone, r.sublink, c.sublink AS cat_sublink FROM cms_jobs_resume r LEFT JOIN cms_jobs_cat c ON (r.id_cat = c.id) WHERE r.id = '".$lI1L1I1.I11472); if ($this->db->next_record()) {$lI1L1lL =$this->db->Record; $this->cms->InitNavSettings(I11510); $aNavData =array(); $vItem =array(); $aNavData["catid"] =$lI1L1lL[I11566]; $aNavData["catid_sublink"] =$lI1L1lL["cat_sublink"]; $vItem += $this->cms->ApplyNav($aNavData); $vItem[I11571] =$vItem["nav_data"]; unset($vItem[I11573]); $aNavData[I11496] =$lI1L1lL[I11496]; $aNavData["id_sublink"] =$lI1L1lL["sublink"]; $vItem += $this->cms->ApplyNav($aNavData); $resume_link =$GLOBALS['ROOT_PATH_WWW'].$this->cms->Core->GetModFrontLink(I11510).$vItem[I11573]; $lI1L1lL =removeSpecial($lI1L1lL); $lI1L1lL["vacancy_name"] =$lI1L1lL[I11548]; $lI1L1lL[I11574] =$lI1L1lL[I11569]; $lI1L1lL[I11495] =$resume_link; $this->cms->Gui->addBlock('jobs_resume_mail', '_local/_admin/templates/letters/jobs_resume_mail.tpl'); $mbody =$this->cms->Gui->get("jobs_resume_mail", $lI1L1lL); require_once($GLOBALS["CLASSES_PATH"].I11575); $oMail =new Mailer(); $oMail->SenderAddress =$this->cms->Core->GetOption("company_robot_email"); $oMail->SenderName =$this->cms->Core->GetOption("company_name"); $oMail->RecipientAddress =$lI1L1lL[I11529]; $oMail->Subject =$this->cms->Gui->get("jobs_resume_mail:subject", $lI1L1lL); $oMail->Body =$mbody; $oMail->BodyFormat ="plain"; $oMail->Prepare(); if ($oMail->Send()) {}else {}}}}}class CategoriesFunctionsJobsResume extends CMS_CategoriesFunctions {public $I1LI1Ll =true; function CategoriesFunctionsJobsResume(&$cms, &$oModule, $IILL11I, $IILL11l, $IILL11L) {parent::CMS_CategoriesFunctions($cms, $oModule, $IILL11I, $IILL11l, $IILL11L); }function _GetCategoryCB(&$aItem, &$aData) {if ($this->I1LI1Ll) {$sql =I11576 ."FROM " .$this->IILLLLI ." " ."WHERE `id_cat` = " .$aItem[I11537] ." AND `public` = 1"; $aItem[I11577] =intval($this->module->db->getValue($sql)); $aItem[I11577] =$this->cms->TTITI1l('cat', I11577, $aItem); $aItem['cat_counter'] =$this->cms->TTITI1l('cat', 'counter', $aItem); }if ($aItem[I11577] >0) {$aItem[I11523] =$this->cms->Gui->get($this->moduleName.I11578, $aItem); }else {$aItem[I11523] =$this->cms->Gui->get($this->moduleName."_list:cat_name", $aItem); }}function TTTl1lI($cId, $cModule) {parent::TTTl1lI($cId, $cModule); return $this->catId == $this->IILLLLl ?null :$this->IILLLLl; }function _ApplyFilters($prefix =I11470, $bodyType =I11470, $IIlLLl1 =true) {$res =$this->module->{$this->IILL1lI}($this->IILLL1l, $bodyType, $IIlLLl1); if($this->module->side == "front") {if(!$this->IILLL11) {$res .= " "; }}return $res; }}?>