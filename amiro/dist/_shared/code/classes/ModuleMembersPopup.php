<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @package    core 
 * @version    $Id$ 
 * @size       5034 xkqwmiwmsutsmwkprznxzzntprkznqixxuipwzzgurluukpwminktkmzsgssspxyqkxppnir
 */ ?><?php foreach(array(11726=>'uDQrnZIQ',11727=>'tQxt',11728=>"SZtQ|fHrIZt}SZtQ!'",11729=>"",11730=>"ZWtMHn",11731=>"Hn",11732=>"fJZPMWHn",11733=>"Hff",11734=>"nHtZWtMvQ",11735=>"GHDDMYJQ|IHSuJQD|JMDt",11736=>'PQtZJJvZJuQD',11737=>'DQJQWtQS',11738=>'vZJuQ') as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} class ModuleMembersPopup extends CMS_ActModule {function ModuleMembersPopup(&$cms, &$db, &$cModule) {parent::CMS_ActModule($cms, $db, $cModule); }function _Init($IIll1l1 =Array(), $IIll1LI ="", $IIll1Ll ="", $aOptions =Array()) {$IIIIL11 =Array(); $aOptions += $IIIIL11; parent::_Init($IIll1l1, $IIll1LI, $IIll1Ll, $aOptions); }function TTTlIII(){ foreach(array(I11726, 'email', 'lastname', 'firstname') as $field){ $name ='flt_' .$field; $this->filter->AddField( $name, I11727, isset($this->cms->Vars[$name]) ?stripslashes(unhtmlentities($this->cms->Vars[$name])) :'', '', ' like ', $field); }}function TTTlI11(&$vData, &$aCustom) {$this->browser->InitSQL("id, active, username, firstname, lastname, date, email, ". I11728.$this->cms->DFMT["db"]."') as fdate ", "FROM cms_members ", "WHERE 1 ".$this->_ApplyFilters().$this->TTTlIl1(), I11729, "name", "id desc" );$aCustom["fields"] += Array( "active"=>Array(I11730=>"flagicon", "value"=>1, "id"=>"pub_id", I11731=>"members_popup_list:deleted_off","off"=>"members_popup_list:deleted_on"), "action_select" => Array(I11730=>I11732, "value"=>I11729, "id"=>"sel_id", I11731=>"members_popup_list:select_icon", I11733=>I11729), );$aCustom["applied_id"] ="id"; $aCustom["legend"] =Array("onactive", I11734, "select"); parent::TTTlI11($vData, $aCustom); }function TIllI1l(){ static $aModules; if (!is_array($aModules)) {$aLang =$this->cms->Gui->ParseLangFile('templates/lang/_menu_all.lng'); $possibleModules =$this->cms->Core->GetModProperty("members", I11735); $aModules =array ();foreach ($possibleModules as $module) {if ($this->cms->Core->IsInstalled($module)) {$oModule =&$this->cms->Core->GetModule($module); $aCaption =array ($aLang[$oModule->GetOwnerName()]); if ($oModule->HaveParent()) {$aCaption[] =$aLang[$oModule->GetParentName()]; }$aCaption[] =$aLang[$module]; $aModules[$module] =implode(' : ', $aCaption); }}}return $aModules; }function ruleDisplayModulesCB($cData, $IIL1lL1, &$res, &$aData, $IIL1l1I =I11736){ static $aModules; switch($IIL1l1I){ case I11736: if (!is_array($aModules)) {$aModules =$this->TIllI1l(); }$res =array (array ('name' => 'all', 'caption' => $this->words['all'], I11737 => intval(in_array('all', $cData['value'])) ));foreach ($aModules as $module => $caption) {$res[] =array ('name' => $module, 'caption' => $caption, I11737 => intval(in_array($module, $cData[I11738])) );}break; case 'correctvalue': break; case 'getvalue': $res =$cData[I11738]; break; }return true; }}