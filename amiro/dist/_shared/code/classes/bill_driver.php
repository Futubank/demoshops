<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       29854 xkqwtnynsryxlsuuqmiulnusrzgtigqslssqgpzmswnzyznrmmsuulqxpyggxpqmnuyypnir
 */ ?><?php foreach(array(14728=>"",14729=>'Wurr',14730=>"1",14731=>'QrrnH',14732=>'~SrMvQr`tGJ',14733=>'QrrHr') as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} if(!class_exists('BILL_driver_base', false)){ class BILL_driver_base{ public $gui; public $ILLLllI; public $ll11LII; public $ll11LIl; public $currencies; public $initialCurrencies; public $ll11LIL; public $clearCartOnPayProcess; protected $driverName; protected $ll11LI1; public function __construct($ll11ILl){ $this->gui =&$ll11ILl; $this->TlTTlll(0); $this->ll11LII =false; $this->currencies =$this->TlTTlIl("#USD RUR EUR"); $this->initialCurrencies =$this->currencies; $this->TlTTllI(); $this->clearCartOnPayProcess =false; $this->ll11LI1 =$GLOBALS['LOCAL_FILES_REL_PATH'] .'eshop/pay_drivers/'; }function TlTTlII($ll11LlI){ $this->ll11LIl =$ll11LlI; }function TlTTlIl($ll11Lll){ $ll11LlL =Array(); if($ll11Lll != "") {$ll11Ll1 =explode(" ", $ll11Lll); for($i =0; $i <count($ll11Ll1); $i++){ $ll11Ll1[$i] =trim($ll11Ll1[$i]); if(!empty($ll11Ll1[$i])){ if(mb_strpos($ll11Ll1[$i], "#") === 0){ $ll11Ll1[$i] =mb_substr($ll11Ll1[$i], 1); if(count($ll11LlL) >0) $ll11LlL =array_pad($ll11LlL, -count($ll11LlL)-1, I14728); $ll11LlL[0] =$ll11Ll1[$i]; }else{ array_push($ll11LlL, $ll11Ll1[$i]); }}}}return $ll11LlL; }function getCurrencies($options =array (),$ll11LLI =''){ if(!empty($ll11LLI) && in_array($ll11LLI, $this->currencies)){ $aResult =array($ll11LLI); for($i =0; $i <sizeof($this->currencies); $i++){ if($this->currencies[$i] != $ll11LLI){ $aResult[] =$this->currencies[$i]; }}return $aResult; }else{ return $this->currencies; }}function TlTTlI1($ll11Lll){ $ll11LLl =$this->TlTTlIl($ll11Lll); $ll11LlL =Array(); if(count($ll11LLl) >0) {$this->currencies =Array(); for($i =0; $i <count($ll11LLl); $i++){ if(in_array($ll11LLl[$i], $this->initialCurrencies)){ array_push($this->currencies, $ll11LLl[$i]); }}return $this->currencies; }return false; }function TlTTllT(){ return $this->ll11LIL; }function TlTTllI($percent =0, $const =0, $lIlL1ll =''){ $this->ll11LIL['percent'] =doubleval($percent); $this->ll11LIL['const'] =doubleval($const); if(in_array($lIlL1ll, $this->initialCurrencies)) {$this->ll11LIL[I14729] =$lIlL1ll; }else {$this->ll11LIL[I14729] =$this->initialCurrencies[0]; }return $this->ll11LIL; }function TlTTlll($cValue =1){ if($cValue != 1 && $cValue != 2) $this->ILLLllI =0; else $this->ILLLllI =$cValue; }function TlTTll1(&$vRes, $cID, $ll11LLL, $ll11LL1, $ll11L1I, $ll11L1l, $ll11L1L, $ll11L11 ="1"){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes['errno'] =-1; return false; }function TlTTl1T(&$vRes, $cID, $ll11LLL, $cPath, $ll11LL1, $ll11L1I, $ll11L1l, $ll11L1L, $ll11L11 =I14730){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes['errno'] =-1; return false; }function TlTTl1I(&$vRes, $ll11LLL, $IllI111, $ll11LL1, $ll111II, $ll111Il, $ll111IL, $ll11L1I, $ll11L1l, $ll11L1L, $ll11L11 =I14730){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes['errno'] =-1; return false; }function TlTTl1l(&$vRes, $cID, $ll11LLL, $ll111I1, $ll111lI, $ll111ll, $ll111lL, $ll111l1, $ll111LI, $ll111Ll, $ll11L1I, $ll11L1l, $ll11L1L, $ll11L11 ='1'){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function getPayButton(array &$vRes, array $cData, $ll11ILL =false){ if(@is_array($this->gui->html) && isset($this->gui->html['billing_service_form'])){ $vRes["form"] =$this->gui->get("billing_service_form", $cData); }else{ $blockName ='billing_service_form_' .$this->driverName; $this->gui->addBlock($blockName, $this->ll11LI1 .$this->driverName .I14732); $vRes["form"] =$this->gui->get($blockName .':checkout_form', $cData); }return true; }function getPayButtonParams(array $cData, array &$vRes){ if(@is_array($this->gui->html) && isset($this->gui->html['billing_payservice_form'])){ $vRes["form"] =$this->gui->get("billing_payservice_form", $cData); }else{ $blockName ='billing_payservice_form_' .$this->driverName; $this->gui->addBlock($blockName, $this->ll11LI1 .$this->driverName .I14732); $vRes["form"] =$this->gui->get($blockName .':pay_form', $cData); }return true; }function payProcess(array $cGet, array $cPost, array &$vRes, array $ll11I1I, array $aOrderData){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function payCallback(array $cGet, array $cPost, array &$vRes, array $additionalParams, array $aOrderData){ return true; }function getProcessOrder(array $cGet, array $cPost, array &$vRes, array $additionalParams){ return 0; }function TlTTlTT(&$vRes, &$I1lLIlI, &$vData, $cID, $ll11llL =I14728, $ll11ll1 ="KAG"){ $vRes['error'] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function TlTTlTI(&$vRes, &$I1lLIlI, &$vData, $cID, $ll11llL =I14728, $ll11ll1 ="KAG"){ $vRes[I14733] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function TlTTlTl(&$vRes, &$I1lLIlI, &$vData, $cID, $ll11llL =I14728, $ll11ll1 ="KAG"){ $vRes[I14733] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function TlTTlT1(&$vRes, &$I1lLIlI, &$vData, $cID, $ll11llL =I14728){ $vRes[I14733] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }function TlTTlIT(&$vRes, $cID){ $vRes[I14733] ='The current driver doesn\'t support this action'; $vRes[I14731] =-1; return false; }}}