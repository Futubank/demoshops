<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       7745 xkqwntkuixyrtmxlkzsslmsnuxpzstwrqlpklpurrntxlxixkpxzgzinssiqgkruxlqgpnir
 */ ?><?php foreach(array(14909=>"duWWQDD",14910=>"HrSQr?MD?IMDDQS",14911=>"YuttHn|nZIQ",14912=>"HrSQr",14913=>"OMSSQnD",14914=>"urJ",14915=>"QrrHr",14916=>"QrrnH",14917=>"MtQI|nuIYQr",14918=>"GrHWQDD|vZJuQ",14919=>'DtZtuD') as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} if(!class_exists("BILL_driver_print", false)){ class BILL_driver_print extends BILL_driver_base {function getPayButton(array &$vRes, array $cData, $ll11ILL =false){ $res =true; $data =$cData; $vRes["error"] =I14909; $vRes["errno"] =0; if(empty($data["order"])){ $vRes["errno"] =1; $vRes["error"] =I14910; $res =false; }else if(empty($data["return"])){ $vRes["errno"] =2; $vRes["error"] ="return is missed"; $res =false; }else if(empty($data[I14911]) && empty($data["button"])){ $vRes["errno"] =3; $vRes["error"] ="button_name is missed"; $res =false; }$ll11IL1 =$data; if(isset($ll11IL1[I14912])) unset($ll11IL1[I14912]); if(isset($ll11IL1["return"])) unset($ll11IL1["return"]); if(isset($ll11IL1[I14911])) unset($ll11IL1[I14911]); if(isset($ll11IL1["button"])) unset($ll11IL1["button"]); foreach($ll11IL1 as $key => $value) $data[I14913] .= "<input type=\"hidden\" name=\"$key\" value=\"$value\">\r\n"; $data["button"] =trim($data["button"]); if(!empty($data["button"])) {$data["_button_html"] =1; }if($ll11ILL) {$data['_BILL_AUTO_REDIRECT'] =1; }if(!$res) {$data["disabled"] ="disabled"; }return parent::getPayButton($vRes, $data, $ll11ILL); }function getPayButtonParams(array $cData, array &$vRes){ $data =$cData; $vRes["error"] =I14909; $vRes["errno"] =0; if(empty($data[I14914])){ $vRes["errno"] =1; $vRes["error"] ="url is missed"; return false; }else if(empty($data[I14912])){ $vRes["errno"] =2; $vRes[I14915] =I14910; return false; }else if(empty($data["hidden_name"])){ $vRes["errno"] =3; $vRes[I14915] ="hidden_name is missed"; return false; }else if(empty($data["print_value"])){ $vRes[I14916] =4; $vRes[I14915] ="print_value is missed"; return false; }else if(empty($data["process_value"])){ $vRes[I14916] =5; $vRes[I14915] ="process_value is missed"; return false; }$ll11IL1 =$data; if(isset($ll11IL1["item_number"])) unset($ll11IL1[I14917]); if(isset($ll11IL1[I14914])) unset($ll11IL1[I14914]); if(isset($ll11IL1[$data["hidden_name"]])) unset($ll11IL1[$data["hidden_name"]]); if(isset($ll11IL1["print_value"])) unset($ll11IL1["print_value"]); if(isset($ll11IL1[I14918])) unset($ll11IL1[I14918]); foreach($ll11IL1 as $key => $value) $data[I14913] .= "<input type=\"hidden\" name=\"$key\" value=\"$value\">\r\n"; return parent::getPayButtonParams($data, $vRes); }function payProcess(array $cGet, array $cPost, array &$vRes, array $ll11I1I, array $aOrderData){ $status ='fail'; if(!empty($cGet['status'])) $status =$cGet['status']; if(!empty($cPost['status'])) $status =$cPost[I14919]; return ($status == 'ok'); }}}?>
