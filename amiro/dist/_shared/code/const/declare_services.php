<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       10439 xkqwwykyrukiqknzrwzuinlnzplignprwsspwyzyskzpxkmiklmtqrrirnmkkwpwlzrkpnir
 */ ?><?php foreach(array(17149=>"Drv|uGSZtQD",17150=>"nHnQ",17151=>"Drv|OHDt|CQYDtZt",17152=>'',17153=>"Drv|OHDt|DuGGHrt",17154=>"Drv|OHDt|GZBIQntD",17155=>'IQIYQrD',17156=>'ZIM|fZKQ',17157=>'GHGuG',17158=>"Drv|ZuSMt",17159=>"Drv|ZuSMt|ZrtMWJQD",17160=>"Drv|ZuSMt|LHYD|WZt",17161=>'DBD|PrHuGD',17162=>'ZIM|ZWWQDD|rMPOtD',17163=>'IHSuJQD|GHGuG',17164=>'DBD|IHSuJQD|GHGuG',17165=>'SQGZrtIQntD',17166=>'Drv|WOHHDQJZnP',17167=>'GZB|SrMvQrD`GOG',17168=>"Drv|IuJtM|DMtQD",17169=>"Drv|JMWQnWQ",17170=>"JMWQnWQ`GOG",17171=>"ZGM|ruJQD",17172=>"ZJJHC|OMSQ|IQnu") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} if(!defined('AMI_ENVIRONMENT')){header('HTTP/1.0 403 Forbidden');die('Forbidden, invalid URL! '.__FILE__.' at '.__LINE__);} $Core->SetOwner("services"); $vMod =&$Core->AddModule("srv_sysinfo", 0); $vMod =&$Core->AddModule(I17149, 0, "updates"); $vMod =&$Core->AddModule("srv_backups", 0, "site_archives"); $vMod =&$Core->AddModule("srv_host_mailmanage",0,I17150); $vMod =&$Core->TTllTI1("srv_host_mailmanage","srv_host_trafic",0,'host_traffic'); $vMod =&$Core->TTllTI1("srv_host_mailmanage", I17151, 0); preg_match('/http:\/\/((www\.)?([^\/]+))/',$ROOT_PATH_WWW,$tmp); $vMod->SetAdminLink($CGI_BIN_PATH_WWW."awstats/awstats.pl?config=".$tmp[3].'&cn='.(defined('CLUSTER_NAME') ?CLUSTER_NAME :I17152)); unset($tmp); $vMod =&$Core->TTllTI1("srv_host_mailmanage","srv_host_domains",0,I17152); $vMod =&$Core->TTllTI1("srv_host_mailmanage", "srv_order", 0); $vMod =&$Core->AddModule(I17153, 0); $vMod->SetAdminLink("srv_host_support.php"); $vMod =&$Core->AddModule("srv_host_payments",0,'host_payments'); $vMod =&$Core->TTllTI1("srv_host_payments","srv_host_payments_add", 0,'none'); $vMod =&$Core->TTllTI1("srv_host_payments","srv_host_payments_history", 0,'host_payments_history'); $vMod =&$Core->TTllTI1(I17154,"srv_host_payments_docs", 0,'host_payments_docs'); $vMod =&$Core->TTllTI1(I17154,"srv_host_payments_props", 0,'host_payments_props'); $oDeclarator =AMI_ModDeclarator::getInstance(); if(!$oDeclarator->isRegistered(I17155)){ $oDeclarator->startConfig('services', 2000); $oDeclarator->register('ami_users', 'users', I17155, I17152, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::INTERFACE_FRONT |AMI_ModDeclarator::IS_SYS); $oDeclarator->setAttr(I17155, 'core_v5', TRUE); $oDeclarator->register(I17156, 'users', 'members_popup', I17155, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::IS_SYS); $oDeclarator->setAttr('members_popup', 'marker', I17157); }if($Core->IsInstalled('eshop_cart')){ $vMod =&$Core->AddModule("user_discounts", 1); $vMod->SetAdminAllowed(0); }$vMod =&$Core->AddModule("ext_user_rating", 1); $vMod->SetAdminAllowed(0); $vMod =&$Core->AddModule("srv_audit", 1); $vMod =&$Core->TTllTI1(I17158,"ext_audit", 0); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_popup", 0, I17150); $vMod->SetAdminAllowed(1); $vMod =&$Core->TTllTI1(I17158,"srv_audit_news", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_blog", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,I17159, 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_articles_cat", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_files", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_files_cat", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_jobs", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,I17160, 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_photoalbum", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_photoalbum_cat", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_eshop_item", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_adv_banners", 1, I17150); $vMod->SetAdminAllowed(0); $vMod =&$Core->TTllTI1(I17158,"srv_audit_adv_campaigns", 1, I17150); $vMod->SetAdminAllowed(0); if(!$oDeclarator->isRegistered('sys_groups')){ $oDeclarator->startConfig('services', 2300); $oDeclarator->register('ami_access_rights', 'groups', I17161, I17152, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::IS_SYS); $oDeclarator->setAttr(I17161, 'core_v5', TRUE); $oDeclarator->register('ami_users', 'access_rights', 'sys_users', I17161, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::HAS_UNCANONICAL_TABLE_NAME |AMI_ModDeclarator::IS_SYS); $oDeclarator->register(I17162, 'users_popup', 'sys_users_popup', I17161, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::HAS_UNCANONICAL_TABLE_NAME |AMI_ModDeclarator::IS_SYS); $oDeclarator->register(I17162, 'groups_popup', 'sys_groups_popup', I17161, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::IS_SYS); $oDeclarator->register(I17162, I17163, I17164, I17161, AMI_ModDeclarator::INTERFACE_ADMIN |AMI_ModDeclarator::IS_SYS); $oDeclarator->register(I17162, I17165, 'sys_departments', I17161, AMI_ModDeclarator::INTERFACE_NONE |AMI_ModDeclarator::IS_SYS); }unset($oDeclarator); $vMod =&$Core->AddModule('srv_options', 0, 'options'); $vMod =&$Core->TTllTI1('srv_options', I17166); $vMod->SetAdminLink('choose_lang.php'); $vMod =&$Core->TTllTI1('srv_options', "pay_drivers", 0, "pay_drivers"); $vMod->SetAdminLink(I17167); $vMod =&$Core->TTllTI1('srv_options', 'locales'); $vMod->SetAdminLink('locales.php'); $vMod->SetAdminLink('locales.php'); $vMod =&$Core->AddModule(I17168, 0); $vMod =&$Core->AddModule(I17169, 0, "host_users"); $force =isset($_GET['force_lic']) ?'?force_lic='.$_GET['force_lic'] :I17152; $vMod->SetAdminLink(I17170.$force); unset($force); $vMod =&$Core->AddModule(I17171, 0); $vMod->SetAdminAllowed(0); $Core->SetOwnerInstalled("services", true); $Core->OwnerSetData("services","taborder", 4000); $Core->OwnerSetData("services",I17172, true); 