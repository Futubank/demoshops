<?php /**
 * @copyright  2000-2016 Amiro.CMS. All rights reserved. 
 * @version    $Id$ 
 * @size       3081 xkqwpqkkymwpzqkngwytnypqxsxislukpwypitrmqpklmmnxzirmrqmmiksimkykgmyypnir
 */ ?><?php foreach(array(19756=>"OttG%~~",19757=>" ",19758=>"",19759=>"~?",19760=>"&=") as $i1=>$i2){$i3=strrev("rtrts");define("I".$i1,$i3($i2,'abcdeghijklmopqswyz ~`!@#%^&*()_-+|{}[];:<>,./?ABCDEGHIJKLMOPQSWYZ','ZYWSQPOMLKJIHGEDCBA?/.,><:;][}{|+-_)(*&^%#@!`~ zywsqpomlkjihgedcba'));} function isFullLink($cUrl){ $res =(mb_strpos($cUrl, I19756)!==false || mb_strpos($cUrl, "https://")!==false || mb_strpos($cUrl, "ftp://")!==false); return $res; }function TlT1ITT($cStr){ if(mb_strpos($cStr, " ") !== false){ return false; }if(!preg_match('/^[0-9a-zA-Z\-\_\.\/:\?\=\%\&\#]*$/s', $cStr)){ return false; }if(($pos =mb_strpos($cStr, I19757)) !== false && (mb_strpos($cStr, I19757, $pos+1)) !== false){ return false; }if($pos === false) $pos =mb_strlen($cStr); if((($ampos =mb_strpos($cStr, "&")) !== false && $ampos <$pos) || (($eqpos =mb_strpos($cStr, "=")) !== false && $eqpos <$pos)){ return false; }if(preg_match('/^\/+.*?$/', $cStr)){ return false; }if(!preg_match('/^[0-9a-zA-Z\-\_\.]/s', $cStr)){ return false; }return true; }function checkUrlSymbols($cUrl, $lL1LLL1 =I19758){ $res =(empty($lL1LLL1) || !strncasecmp($cUrl, $lL1LLL1, mb_strlen($lL1LLL1))==0) && TlT1ITT(unhtmlentities($cUrl)); return $res; }function PrepareSublink($cStr) {$cStr =preg_replace('/^(https?|ftp):\//', '\1://', trim(preg_replace('/\/{2,}/', '/', $cStr), I19759)); return $cStr; }function TlT1ITI(&$IIl1Il1) {foreach($IIl1Il1 as $paramName => $paramValue) {if(is_array($paramValue)) {TlT1ITI($paramValue); }else {$IIl1Il1[$paramName] =rawurlencode($paramValue); }}}function TlT1ITl($IIl1Il1, &$lL1LL1I, $lL1LL1l =I19758) {foreach($IIl1Il1 as $paramName => $paramValue) {if(is_array($paramValue)) {if($lL1LL1l == I19758) {$lL1LL1l .= $paramName; }else {$lL1LL1l .= "[".$paramName."]"; }TlT1ITl($paramValue, $lL1LL1I, $lL1LL1l); $lL1LL1l =I19758; }else {$lL1LL1I .= "&"; if($lL1LL1l != I19758) {$lL1LL1I .= $lL1LL1l."[".$paramName.I19760.$paramValue; }else {$lL1LL1I .= $paramName."=".$paramValue; }}}}